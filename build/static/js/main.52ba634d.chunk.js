(this["webpackJsonpgame-pikachu-v2"]=this["webpackJsonpgame-pikachu-v2"]||[]).push([[0],{58:function(e,n,t){},59:function(e,n,t){},85:function(e,n,t){"use strict";t.r(n);var c,a=t(1),o=t.n(a),i=t(25),r=t.n(i),s=(t(58),t(4)),l=(t(59),t(7)),u=t(87),d=t(8);!function(e){e.MAIN_PAGE="/",e.PLAYER_PAGE="/player",e.SINGLE_PLAYER_PAGE="/single-player",e.MULTI_PLAYER_PAGE="/multi-player",e.SURVIVAL_MODE_PAGE="/survival-mode",e.SPEED_MODE_PAGE="/speed-mode"}(c||(c={}));var j,b,O,m,p,g,h,f,E,v,x=t(3),S=t(5);!function(e){e.SELECTED_POKEMONS_SELECTOR="SELECTED_POKEMONS_SELECTOR"}(O||(O={})),function(e){e.SURVIVAL_MODE="survival",e.SPEED_MODE="speed"}(m||(m={})),function(e){e.PLAYER_STATE="PLAYER_STATE",e.GAME_STATE="GAME_STATE",e.GAME_SOUND_STATE="GAME_SOUND_STATE",e.GAME_OVERLAY_STATE="GAME_OVERLAY_STATE",e.SELECTED_POKEMONS="SELECTED_POKEMONS"}(p||(p={})),function(e){e.RUNNING="running",e.PENDING="pending",e.COMPLETED="completed",e.FAILED="failed"}(g||(g={})),function(e){e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom"}(h||(h={})),function(e){e.START="start",e.END="end",e.LINE="line"}(f||(f={})),(v=E||(E={})).LEVEL_1="1",v.LEVEL_2="2",v.LEVEL_3="3",v.LEVEL_4="4",v.LEVEL_5="5",v.LEVEL_6="6",v.LEVEL_7="7",v.LEVEL_8="8",v.LEVEL_9="9",v.LEVEL_10="10",v.LEVEL_11="11",v.LEVEL_12="12",v.LEVEL_13="13",v.LEVEL_14="MAX";var L=(j={},Object(S.a)(j,E.LEVEL_1,{row:3,col:4}),Object(S.a)(j,E.LEVEL_2,{row:4,col:4}),Object(S.a)(j,E.LEVEL_3,{row:4,col:5}),Object(S.a)(j,E.LEVEL_4,{row:4,col:6}),Object(S.a)(j,E.LEVEL_5,{row:4,col:7}),Object(S.a)(j,E.LEVEL_6,{row:6,col:8}),Object(S.a)(j,E.LEVEL_7,{row:7,col:8}),Object(S.a)(j,E.LEVEL_8,{row:8,col:8}),Object(S.a)(j,E.LEVEL_9,{row:8,col:9}),Object(S.a)(j,E.LEVEL_10,{row:8,col:10}),Object(S.a)(j,E.LEVEL_11,{row:8,col:11}),Object(S.a)(j,E.LEVEL_12,{row:8,col:12}),Object(S.a)(j,E.LEVEL_13,{row:9,col:12}),Object(S.a)(j,E.LEVEL_14,{row:10,col:12}),j),y=(b={},Object(S.a)(b,E.LEVEL_1,E.LEVEL_2),Object(S.a)(b,E.LEVEL_2,E.LEVEL_3),Object(S.a)(b,E.LEVEL_3,E.LEVEL_4),Object(S.a)(b,E.LEVEL_4,E.LEVEL_5),Object(S.a)(b,E.LEVEL_5,E.LEVEL_6),Object(S.a)(b,E.LEVEL_6,E.LEVEL_7),Object(S.a)(b,E.LEVEL_7,E.LEVEL_8),Object(S.a)(b,E.LEVEL_8,E.LEVEL_9),Object(S.a)(b,E.LEVEL_9,E.LEVEL_10),Object(S.a)(b,E.LEVEL_10,E.LEVEL_11),Object(S.a)(b,E.LEVEL_11,E.LEVEL_12),Object(S.a)(b,E.LEVEL_12,E.LEVEL_13),Object(S.a)(b,E.LEVEL_13,E.LEVEL_14),Object(S.a)(b,E.LEVEL_14,E.LEVEL_9),b),P=Object(x.b)({key:p.GAME_SOUND_STATE,default:{soundReady:!1,gameSongDuration:0,playOpenMenuSound:void 0,playEnableSound:void 0,playDisableSound:void 0,playCompletedGameSound:void 0,playFailedGameSound:void 0,playBiteSound:void 0,playRisingPopSound:void 0,playFanfareSound:void 0,playGlugSound:void 0,playNearlyEndTimeSound:void 0,playOffSound:void 0,playOnSound:void 0,playLevelUpSound:void 0,playPopDownSound:void 0,playPopUpOnSound:void 0,playPopUpOffSound:void 0,playYouWinSound:void 0,playGameSong:void 0}});function N(e,n){var t=Object(a.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(c){return console.log(c),n}})),c=Object(s.a)(t,2),o=c[0],i=c[1];return[o,function(n){try{var t=n instanceof Function?n(o):n;i(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(c){console.log(c)}}]}var k=t(39),_=t(23);k.a.use(_.e).init({resources:{en:{translation:{English:"English",Vietnamese:"Vietnamese",Back:"Back",Replay:"Replay",Language:"Language",Level:"Level",Welcome:"Welcome",Congratulations:"Congratulations",Submit:"Submit","The fastest is best":"The fastest is best","The longest is best":"The longest is best","Your score":"Your score","Your time":"Your time","Remaining time":"Remaining time","Top players":"Top players","Single player":"Single player","Multi player":"Multi player","Main menu":"Main menu","Speed mode":"Speed mode","Survival mode":"Survival mode","Coming soon...":"Coming soon...","Scroll down to play":"Scroll down to play","Scroll down to chat":"Scroll down to chat","Preparing resource...":"Preparing resource...","Please complete all levels as fast as you can":"Please complete all levels as fast as you can","Try your best not to run out of time as long as possible.":"Try your best not to run out of time as long as possible","Your time will increase when you match a pair of pokemon":"Your time will increase when you match a pair of pokemon","Choosing the wrong pair will increase the time":"Choosing the wrong pair will increase the time","Choosing the wrong pair will decrease the time":"Choosing the wrong pair will decrease the time","Accept alphabet and digit only.":"Accept alphabet, digits and space only.","Please enter your name":"Please enter your name","Enter your name here":"Enter your name here","Make your own ranking":"Make your own ranking","Make match":"Make match","Find random match":"Find random match","Enter your message here...":"Enter your message here...","Service is not available now.":"Service is not available now.","Please try again":"Please try again","Chat slowly please":"Chat slowly please","Service is under maintenance":"Service is under maintenance"}},vi:{translation:{English:"Ti\u1ebfng Anh",Vietnamese:"Ti\u1ebfng Vi\u1ec7t",Back:"Quay v\u1ec1",Replay:"Ch\u01a1i l\u1ea1i",Language:"Ng\xf4n ng\u1eef",Level:"C\u1ea5p \u0111\u1ed9",Welcome:"Ch\xe0o b\u1ea1n",Congratulations:"Xin ch\xfac m\u1eebng",Submit:"Nh\u1eadp","The fastest is best":"Ho\xe0n th\xe0nh c\xe0ng s\u1edbm, th\u1ee9 h\u1ea1ng c\xe0ng cao","The longest is best":"K\xe9o d\xe0i th\u1eddi gian c\xe0ng l\xe2u, th\u1ee9 h\u1ea1ng c\xe0ng cao","Your score":"\u0110i\u1ec3m s\u1ed1 c\u1ee7a b\u1ea1n","Your time":"Th\u1eddi gian c\u1ee7a b\u1ea1n","Remaining time":"Th\u1eddi gian c\xf2n l\u1ea1i","Top players":"Danh s\xe1ch ng\u01b0\u1eddi ch\u01a1i h\xe0ng \u0111\u1ea7u","Single player":"C\xe1 nh\xe2n","Multi player":"\u0110\u1ed1i kh\xe1ng","Main menu":"M\xe0n h\xecnh ch\xednh","Speed mode":"T\u1ed1c \u0111\u1ed9","Survival mode":"Sinh t\u1ed3n","Coming soon...":"\u0110ang ph\xe1t tri\u1ec3n...","Preparing resource...":"\u0110ang chu\u1ea9n b\u1ecb...","Scroll down to play":"L\u0103n chu\u1ed9t xu\u1ed1ng \u0111\u1ec3 ch\u01a1i","Scroll down to chat":"L\u0103n chu\u1ed9t xu\u1ed1ng \u0111\u1ec3 nh\u1eafn tin","Please complete all levels as fast as you can":"H\xe3y ho\xe0n th\xe0nh t\u1ea5t c\u1ea3 c\u1ea5p \u0111\u1ed9 nhanh nh\u1ea5t c\xf3 th\u1ec3 ","Try your best not to run out of time as long as possible":"C\u1ed1 g\u1eafng h\u1ebft s\u1ee9c \u0111\u1ec3 kh\xf4ng h\u1ebft th\u1eddi gian l\xe2u nh\u1ea5t c\xf3 th\u1ec3","Your time will increase when you match a pair of pokemon":"Th\u1eddi gian c\u1ee7a b\u1ea1n s\u1ebd t\u0103ng th\xeam khi ch\u1ecdn kh\u1edbp m\u1ed9t c\u1eb7p pokemon","Choosing the wrong pair will increase the time":"Ch\u1ecdn sai c\u1eb7p s\u1ebd b\u1ecb t\u0103ng th\xeam th\u1eddi gian","Choosing the wrong pair will decrease the time":"Ch\u1ecdn sai c\u1eb7p s\u1ebd b\u1ecb gi\u1ea3m th\u1eddi gian","Accept alphabet and digit only.":"Ch\u1ec9 ch\u1ea5p nh\u1eadn ch\u1eef c\xe1i, ch\u1eef s\u1ed1 v\xe0 k\xed t\u1ef1 tr\u1eafng.","Please enter your name":"H\xe3y nh\u1eadp t\xean c\u1ee7a b\u1ea1n","Enter your name here":"Nh\u1eadp t\xean b\u1ea1n t\u1ea1i \u0111\xe2y","Make your own ranking":"T\u1ea1o x\u1ebfp h\u1ea1ng c\u1ee7a b\u1ea1n","Make match":"T\u1ea1o tr\u1eadn \u0111\u1ea5u","Find random match":"T\xecm tr\u1eadn ng\u1eabu nhi\xean","Enter your message here...":"Nh\u1eadp tin nh\u1eafn t\u1ea1i \u0111\xe2y...","Service is not available now.":"D\u1ecbch v\u1ee5 hi\u1ec7n t\u1ea1i kh\xf4ng kh\u1ea3 d\u1ee5ng.","Please try again":"Th\u1eed l\u1ea1i","Chat slowly please":"Chat ch\u1eadm l\u1ea1i b\u1ea1n nh\xe9","Service is under maintenance":"D\u1ecbch v\u1ee5 \u0111ang \u0111\u01b0\u1ee3c b\u1ea3o tr\xec"}}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});var I,w=k.a,T=t(0),A=function(){var e=Object(u.a)().t,n=Object(x.e)(P).playOffSound,t=N("language","vi"),c=Object(s.a)(t,2),a=(c[0],c[1]),o=function(e){w.changeLanguage(e),a(e),n&&n()};return Object(T.jsxs)("h5",{className:"select-language",children:[e("Language"),":"," ",Object(T.jsx)("strong",{onClick:function(){return o("en")},children:e("English")})," -"," ",Object(T.jsx)("strong",{onClick:function(){return o("vi")},children:e("Vietnamese")})]})},M=t(14),G=Object(x.b)({key:p.PLAYER_STATE,default:{rankingId:"",playerName:"",playerTiming:0}}),D=function(){var e=Object(u.a)().t,n=Object(x.e)(P).playPopUpOnSound,t=Object(x.e)(G).playerName;return Object(T.jsxs)("div",{className:"main-board",children:[Object(T.jsxs)(M.a,{children:[Object(T.jsx)("meta",{charSet:"utf-8"}),Object(T.jsx)("title",{children:"Pika pika! - Main board"})]}),Object(T.jsxs)("nav",{className:"navigation",children:[Object(T.jsxs)("h3",{className:"text-center",children:[e("Welcome"),", ",t]}),Object(T.jsx)(d.b,{to:c.SINGLE_PLAYER_PAGE,children:Object(T.jsx)("button",{onClick:function(){return n&&n()},children:e("Single player")})}),Object(T.jsx)(d.b,{to:c.MULTI_PLAYER_PAGE,children:Object(T.jsx)("button",{onClick:function(){return n&&n()},children:e("Multi player")})}),Object(T.jsx)(A,{})]})]})},V=t(2),R="http://localhost:8080",C={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},U=function(e){return fetch("".concat(R,"/rankings?mode=").concat(e)).then((function(e){return e.json()})).then((function(e){return e}),(function(e){return e}))};!function(e){e.SUCCESS="success",e.ERROR="error",e.IDLE="idle",e.PENDING="pending"}(I||(I={}));var F=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=Object(a.useState)(I.IDLE),c=Object(s.a)(t,2),o=c[0],i=c[1],r=Object(a.useState)(null),l=Object(s.a)(r,2),u=l[0],d=l[1],j=Object(a.useState)(null),b=Object(s.a)(j,2),O=b[0],m=b[1],p=Object(a.useCallback)((function(){return i(I.PENDING),d(null),m(null),e().then((function(e){e&&d(e),i(I.SUCCESS)})).catch((function(e){e&&m(e),i(I.ERROR)}))}),[e]);return Object(a.useEffect)((function(){n&&p()}),[p,n]),{execute:p,status:o,value:u,error:O}};function Y(e){if(e<=0)return"00:00";var n=e%60;return Math.floor(e/60).toString().padStart(2,"0")+":"+n.toString().padStart(2,"0")}function B(e){return new Date(e).toLocaleString()}var W=function(e){var n,t=e.fetch,a=e.mode,o=Object(u.a)().t,i=Object(x.e)(P).playPopUpOnSound,r=F(t,!0),s=r.status,l=r.value,j=r.error;return Object(T.jsxs)(T.Fragment,{children:[l&&null===l.data&&(a===m.SPEED_MODE?Object(T.jsx)(d.b,{to:c.SPEED_MODE_PAGE,children:Object(T.jsx)("button",{onClick:function(){return i&&i()},style:{width:"calc(100% - 32px)",margin:16},children:o("Make your own ranking")})}):Object(T.jsx)(d.b,{to:c.SURVIVAL_MODE_PAGE,children:Object(T.jsx)("button",{onClick:function(){return i&&i()},style:{width:"calc(100% - 32px)",margin:16},children:o("Make your own ranking")})})),Object(T.jsxs)("ol",{className:"rank-list",children:[s===I.SUCCESS&&(null===l||void 0===l?void 0:l.data)?null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.map((function(e,n){return e.timing&&Object(T.jsxs)("li",{children:[e.playerName," - ",Y(e.timing)," -"," ",B(e.timestamp)]},"id-".concat(n))})):Object(T.jsx)("li",{children:o("Service is under maintenance")}),s===I.ERROR&&j&&Object(T.jsx)("p",{className:"has-error",children:j})]})]})},J=function(){var e=Object(u.a)().t;return Object(T.jsxs)("div",{className:"max-screen-container rank-board",children:[Object(T.jsx)("h1",{children:e("Top players")}),Object(T.jsxs)("div",{className:"row",children:[Object(T.jsxs)("div",{className:"col",children:[Object(T.jsx)("h4",{children:Object(T.jsx)("em",{children:e("The longest is best")})}),Object(T.jsx)(W,{fetch:function(){return U(m.SURVIVAL_MODE)},mode:m.SURVIVAL_MODE})]}),Object(T.jsxs)("div",{className:"col",children:[Object(T.jsx)("h4",{children:Object(T.jsx)("em",{children:e("The fastest is best")})}),Object(T.jsx)(W,{fetch:function(){return U(m.SPEED_MODE)},mode:m.SPEED_MODE})]})]})]})},H=Object(a.memo)(J,(function(){return!0})),K=Object(x.b)({key:p.GAME_STATE,default:{status:g.PENDING,row:3,col:4,pokemons:{},matrix:[],level:E.LEVEL_1}}),q=t(11),Z=t(22),z="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white",$=[{id:"poke-0",matched:!1,image:"".concat(z,"/1.png")},{id:"poke-1",matched:!1,image:"".concat(z,"/2.png")},{id:"poke-2",matched:!1,image:"".concat(z,"/3.png")},{id:"poke-3",matched:!1,image:"".concat(z,"/4.png")},{id:"poke-5",matched:!1,image:"".concat(z,"/5.png")},{id:"poke-4",matched:!1,image:"".concat(z,"/6.png")},{id:"poke-6",matched:!1,image:"".concat(z,"/7.png")},{id:"poke-7",matched:!1,image:"".concat(z,"/8.png")},{id:"poke-8",matched:!1,image:"".concat(z,"/9.png")},{id:"poke-9",matched:!1,image:"".concat(z,"/10.png")},{id:"poke-10",matched:!1,image:"".concat(z,"/11.png")},{id:"poke-11",matched:!1,image:"".concat(z,"/12.png")},{id:"poke-12",matched:!1,image:"".concat(z,"/13.png")},{id:"poke-13",matched:!1,image:"".concat(z,"/14.png")},{id:"poke-14",matched:!1,image:"".concat(z,"/15.png")},{id:"poke-15",matched:!1,image:"".concat(z,"/16.png")},{id:"poke-16",matched:!1,image:"".concat(z,"/17.png")},{id:"poke-17",matched:!1,image:"".concat(z,"/18.png")},{id:"poke-18",matched:!1,image:"".concat(z,"/19.png")},{id:"poke-19",matched:!1,image:"".concat(z,"/20.png")},{id:"poke-20",matched:!1,image:"".concat(z,"/21.png")},{id:"poke-21",matched:!1,image:"".concat(z,"/22.png")},{id:"poke-22",matched:!1,image:"".concat(z,"/23.png")},{id:"poke-23",matched:!1,image:"".concat(z,"/24.png")},{id:"poke-24",matched:!1,image:"".concat(z,"/25.png")},{id:"poke-25",matched:!1,image:"".concat(z,"/26.png")},{id:"poke-26",matched:!1,image:"".concat(z,"/27.png")},{id:"poke-27",matched:!1,image:"".concat(z,"/28.png")},{id:"poke-28",matched:!1,image:"".concat(z,"/29.png")},{id:"poke-29",matched:!1,image:"".concat(z,"/30.png")},{id:"poke-30",matched:!1,image:"".concat(z,"/31.png")},{id:"poke-31",matched:!1,image:"".concat(z,"/32.png")},{id:"poke-32",matched:!1,image:"".concat(z,"/33.png")},{id:"poke-33",matched:!1,image:"".concat(z,"/34.png")},{id:"poke-34",matched:!1,image:"".concat(z,"/35.png")},{id:"poke-35",matched:!1,image:"".concat(z,"/36.png")},{id:"poke-36",matched:!1,image:"".concat(z,"/37.png")},{id:"poke-37",matched:!1,image:"".concat(z,"/38.png")},{id:"poke-38",matched:!1,image:"".concat(z,"/39.png")},{id:"poke-39",matched:!1,image:"".concat(z,"/40.png")}],X=function(e){var n=e.sort((function(){return Math.random()-.5})),t={};return n.map((function(e){var n=Object(Z.a)();return t[n]=e,e})),t},Q=function(e){var n=function(e){var n=[];return Object.keys(e).map((function(t){return n.push(e[t]),t})),n}(e);return X(n)},ee=function(e,n){var t=e*n/4,c=$.sort((function(){return Math.random()-.5})).slice(0,t),a=[].concat(Object(q.a)(c),Object(q.a)(c),Object(q.a)(c),Object(q.a)(c));return X(a)},ne=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,c=Object(V.a)({},e),a=t+2,o=n+2,i=Object.keys(e),r=[],s=0;s<o;s++){void 0===r[s]&&(r[s]=[]);for(var l=0;l<a;l++)if(0===s||s===o-1||0===l||l===a-1){var u=Object(Z.a)(),d={nid:u,id:u,matched:!0};r[s].push(d)}else{var j=i.pop();if(j){var b=Object(V.a)(Object(V.a)({},c[j]),{},{nid:j,row:s,col:l});c[j]=Object(V.a)(Object(V.a)({},c[j]),{},{rowIndex:s,colIndex:l}),r[s].push(b)}}}return{pokemonMatrix:r,pokemons:c}},te=function(e,n,t,c,a){var o=function(e,n,t,c,a){for(var o=c+2,i=a+2,r=function(e){for(var n=[],t=e.length,c=0;c<t;c++)n[c]=e[c].slice();return n}(t),s=[],l=[],u=0;u<o;++u){s.push([]),l.push([]);for(var d=0;d<i;++d){var j=Object(V.a)({},r[u][d]);s[u].push(j.matched),l[u].push(void 0)}}var b=[-1,0,1,0],O=[0,1,0,-1],m=[];for(m.push(n),l[n.rowIndex][n.colIndex]={rowIndex:-2,colIndex:-2},s[e.rowIndex][e.colIndex]=!0,s[n.rowIndex][n.colIndex]=!0;m.length;){var p=m.shift();if(p){if((null===p||void 0===p?void 0:p.rowIndex)===e.rowIndex&&(null===p||void 0===p?void 0:p.colIndex)===e.colIndex)break;for(var g=0;g<4;g++)for(var h=p.rowIndex+b[g],f=p.colIndex+O[g];h>=0&&h<o&&f>=0&&f<i&&!0===s[h][f];)void 0===l[h][f]&&(l[h][f]=p,m.push({rowIndex:h,colIndex:f})),h+=b[g],f+=O[g]}}var E=[],v=Object(V.a)({},e);if(l[v.rowIndex][v.colIndex])for(;-2!==v.rowIndex&&-2!==v.colIndex;)E.push({rowIndex:v.rowIndex,colIndex:v.colIndex}),v=Object(V.a)({},l[v.rowIndex][v.colIndex]);return E}(e,n,t,c,a);return{connected:o.length>=2&&o.length<=4,pathPoints:o}},ce=function(e,n){var t=n.rowIndex,c=n.colIndex;return e.find((function(e){return e.rowIndex===t&&e.colIndex===c}))},ae=function(e,n,t,c,a){var o=Object(V.a)({},n),i=Object(q.a)(e),r=Object(s.a)(i,2),l=r[0],u=r[1],d=[],j=Object(q.a)(t);if((null===l||void 0===l?void 0:l.nid)&&(null===u||void 0===u?void 0:u.nid)&&n[l.nid].id===n[u.nid].id){var b=te(l,u,t,c,a),O=b.connected,m=b.pathPoints;if(O)d=function(e,n,t){var c=n+2,a=t+2;return e.reduce((function(e,n,t,o){var i=f.LINE,r=void 0,s=t-1;if(void 0===o[t+1]&&(i=f.END),o[s]){var l=o[s];l.rowIndex>n.rowIndex?r=h.TOP:l.rowIndex<n.rowIndex?r=h.BOTTOM:l.colIndex>n.colIndex?r=h.LEFT:l.colIndex<n.colIndex?r=h.RIGHT:l.rowIndex>n.rowIndex?r=h.TOP:l.rowIndex<n.rowIndex&&(r=h.BOTTOM);var u=Object(V.a)(Object(V.a)({},n),{},{direction:r,type:f.LINE});do{switch(u.direction){case h.BOTTOM:u.rowIndex--,u.rowIndex<0&&(u=void 0);break;case h.TOP:u.rowIndex++,u.rowIndex>=c&&(u=void 0);break;case h.LEFT:u.colIndex++,u.colIndex>=a&&(u=void 0);break;case h.RIGHT:u.colIndex--,u.colIndex<0&&(u=void 0)}if(void 0===u)break;if(u.rowIndex===l.rowIndex&&u.colIndex===l.colIndex)break;e.push(Object(V.a)({},u))}while(void 0!==u)}else i=f.START;var d=Object(V.a)(Object(V.a)({},n),{},{direction:r,type:i});return e.push(d),e}),[])}(m,c,a),o[l.nid]=Object(V.a)(Object(V.a)({},o[l.nid]),{},{matched:!0}),o[u.nid]=Object(V.a)(Object(V.a)({},o[u.nid]),{},{matched:!0}),j=ne(o,c,a).pokemonMatrix;else d=[{rowIndex:-1,colIndex:-1}];i.length=0}else 2===e.length&&(i.length=0,d=[{rowIndex:-1,colIndex:-1}]);return{newSelectedPokemons:i,newMatrix:j,newPokemons:o,connectingLinePoints:d}},oe=function(e,n,t,c){for(var a=!1,o=void 0,i=void 0,r=Object.entries(e),l=function(){var e=r.pop();if(void 0===e)return"break";var l=Object(s.a)(e,2),u=(l[0],l[1]);return!1===u.matched&&(a=r.some((function(e){var a=Object(s.a)(e,2),r=(a[0],a[1]);if(u.id===r.id&&!1===r.matched){var l=te(u,r,n,t,c).connected;return l&&(u.rowIndex&&u.colIndex&&(o={rowIndex:u.rowIndex,colIndex:u.colIndex}),r.rowIndex&&r.colIndex&&(i={rowIndex:r.rowIndex,colIndex:r.colIndex})),l}return!1})))?"break":void 0};r.length;){if("break"===l())break}return{foundConnectLine:a,fromPoint:o,toPoint:i}},ie=Object(x.b)({key:p.GAME_OVERLAY_STATE,default:{connectingLinePoints:[],suggestPoints:[void 0,void 0]}}),re=Object(x.b)({key:p.SELECTED_POKEMONS,default:[]}),se=Object(x.c)({key:O.SELECTED_POKEMONS_SELECTOR,get:function(e){return(0,e.get)(re)},set:function(e,n){var t=e.set,c=e.get,a=c(K),o=a.row,i=a.col,r=a.status,s=a.matrix,l=a.pokemons,u=a.level,d=c(re),j=Object(q.a)(d);j.push(n);var b=ae(j,l,s,o,i),O=b.connectingLinePoints,m=b.newMatrix,p=b.newPokemons,g=b.newSelectedPokemons;O.length>=1&&(O.length>1&&t(K,{row:o,col:i,status:r,level:u,matrix:m,pokemons:p}),t(ie,{suggestPoints:[void 0,void 0],connectingLinePoints:O})),t(re,g)}});function le(e){var n=Object(x.g)(K),t=Object(x.g)(G),c=Object(x.g)(se),o=Object(x.f)(K),i=Object(x.f)(ie),r=Object(x.f)(re),s=Object(x.e)(P),l=s.playBiteSound,u=(s.playFanfareSound,s.playNearlyEndTimeSound),d=Object(a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.PENDING,c=L[e],a=c.row,o=c.col,i=ee(a,o),r=ne(i,a,o),s=r.pokemonMatrix,l=r.pokemons;n({pokemons:l,matrix:s,level:e,row:a,col:o,status:t})}),[n]);return{initGame:d,replayGame:function(e){d(E.LEVEL_1)},startGame:function(){n((function(e){return Object(V.a)(Object(V.a)({},e),{},{status:g.RUNNING})}))},endGame:function(){e===m.SURVIVAL_MODE&&(u&&u(),n((function(e){return Object(V.a)(Object(V.a)({},e),{},{status:g.COMPLETED})})))},selectPokemon:function(e,n,t){l&&l(),c({nid:e,rowIndex:n,colIndex:t})},resetGame:function(){o(),i(),r()},addNewRankingScore:function(e,n){(function(e){var n=Object(V.a)(Object(V.a)({},C),{},{body:JSON.stringify(e)});return fetch("".concat(R,"/rankings"),n).then((function(e){return e.json()})).then((function(e){return e}),(function(e){return e}))})({mode:e,playerName:n,timestamp:Date.now()}).then((function(e){t((function(n){var t;return Object(V.a)(Object(V.a)({},n),{},{rankingId:null!==(t=e.id)&&void 0!==t?t:Object(Z.a)()})}))}))},updateNewRankingScore:function(e,n,t,c){!function(e,n){var t=Object(V.a)(Object(V.a)({},C),{},{method:"PUT",body:JSON.stringify(n)});fetch("".concat(R,"/rankings/").concat(e),t).then((function(e){return e.json()})).then((function(e){return e}),(function(e){return e}))}(e,{mode:n,playerName:t,timing:c,timestamp:Date.now()})}}}var ue,de=function(){var e=Object(u.a)().t,n=Object(x.e)(P).playPopUpOnSound,t=le(m.SURVIVAL_MODE).resetGame;return Object(a.useEffect)((function(){t()}),[t]),Object(T.jsxs)("div",{className:"game-container",children:[Object(T.jsxs)(M.a,{children:[Object(T.jsx)("meta",{charSet:"utf-8"}),Object(T.jsx)("title",{children:"Pika pika! - Single player"})]}),Object(T.jsx)("div",{className:"game-board",children:Object(T.jsx)(H,{})}),Object(T.jsxs)("div",{className:"sidebar",children:[Object(T.jsx)("div",{className:"game-info",children:Object(T.jsx)("h1",{className:"game-title",children:e("Single player")})}),Object(T.jsxs)("div",{children:[Object(T.jsx)(d.b,{to:c.SURVIVAL_MODE_PAGE,children:Object(T.jsx)("button",{onClick:function(){return n&&n()},children:e("Survival mode")})}),Object(T.jsx)(d.b,{to:c.SPEED_MODE_PAGE,children:Object(T.jsx)("button",{onClick:function(){return n&&n()},children:e("Speed mode")})}),Object(T.jsx)(d.b,{to:c.MAIN_PAGE,children:Object(T.jsx)("button",{onClick:function(){return n&&n()},children:e("Back")})})]}),Object(T.jsx)(A,{})]})]})},je=t(31),be=t.n(je);!function(e){e.MESSAGES_STATE="MESSAGES_STATE"}(ue||(ue={}));var Oe=Object(x.b)({key:ue.MESSAGES_STATE,default:{messages:[]}}),me=function(e){var n=e.handleSubmit,t=Object(u.a)().t,c=Object(a.useState)(1),o=Object(s.a)(c,2),i=o[0],r=o[1];return Object(T.jsx)("div",{className:"chat-box",children:Object(T.jsx)("form",{onSubmit:function(e){i?(r(0),n(e),setTimeout((function(){r(1)}),300)):alert(t("Chat slowly please"))},children:Object(T.jsx)("input",{name:"message",placeholder:t("Enter your message here..."),autoFocus:!0,autoComplete:"off"})})})},pe=function(e){var n=e.message,t=Object(x.e)(G).playerName;try{var c=JSON.parse(n),a=c.name,o=c.content,i=c.timestamp,r=t===a?"self":"";return Object(T.jsxs)("div",{className:"message ".concat(r),children:[Object(T.jsx)("small",{className:"message-name",children:a}),Object(T.jsx)("strong",{className:"message-content",children:o}),Object(T.jsx)("small",{className:"message-date",children:Object(T.jsx)("em",{children:B(i)})})]})}catch(s){return null}};function ge(e,n){return e.message===n.message}var he=Object(a.memo)(pe,ge),fe=function(){var e=Object(x.e)(Oe).messages;return Object(a.useEffect)((function(){var e=document.getElementById("messages-box");e&&e.scrollTo({behavior:"smooth",top:e.scrollHeight})}),[e.length]),Object(T.jsx)("div",{id:"messages-box",className:"messages-box",children:e.map((function(e,n){return e&&Object(T.jsx)(he,{message:e.content},n)}))})},Ee=function(e){e.room;var n=Object(u.a)().t,t=Object(x.e)(G).playerName,c=Object(x.e)(P).playPopUpOffSound,o=Object(x.g)(Oe),i=Object(a.useState)("".concat("ws://localhost:8080","/chat")),r=Object(s.a)(i,1)[0],l=be()(r,{reconnectAttempts:10,reconnectInterval:3e3,retryOnError:!0,shouldReconnect:function(){return!0},queryParams:{username:t},onMessage:function(e){c&&c()}}),d=l.sendJsonMessage,j=l.readyState,b=l.lastJsonMessage,O=l.lastMessage;Object(a.useEffect)((function(){b&&o((function(e){var n=e.messages;return{messages:[].concat(Object(q.a)(n),[b])}}))}),[O]);var m=Object(a.useCallback)((function(e){var n={command:2,channel:"general",name:t,content:e,timestamp:Date.now()};d(n)}),[]);return Object(T.jsx)("div",{className:"chat-room",children:Object(T.jsxs)("div",{className:"chat-container",children:[j===je.ReadyState.OPEN&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(fe,{}),Object(T.jsx)(me,{handleSubmit:function(e){e.preventDefault();var t=e.currentTarget.message;t.setAttribute("disabled","true");var c=t.value.replace(/\b(dit|du|fuck|cu|dcm|dm|dcm|cat)\b/g,"*");c&&""!==c.trim()?(m(c),t.value=""):alert(n("Please enter your message")),t.removeAttribute("disabled"),t.focus()}})]}),j===je.ReadyState.CLOSED&&Object(T.jsxs)("div",{className:"service-status",children:[n("Service is not available now."),Object(T.jsx)("strong",{className:"clickable",onClick:function(){window.location.reload()},children:n("Please try again")})]})]})})},ve=function(){var e=Object(u.a)().t,n=Object(x.e)(P),t=n.playPopUpOnSound,a=n.playGlugSound,o=function(){a&&a(),alert(e("In development"))};return Object(T.jsxs)("div",{className:"chat-board",children:[Object(T.jsxs)(M.a,{children:[Object(T.jsx)("meta",{charSet:"utf-8"}),Object(T.jsx)("title",{children:"Pika pika! - Multi player"})]}),Object(T.jsx)("div",{className:"game-board",children:Object(T.jsx)(Ee,{room:"general"})}),Object(T.jsxs)("div",{className:"sidebar",children:[Object(T.jsx)("div",{className:"game-info",children:Object(T.jsx)("h1",{className:"game-title",children:e("Multi player")})}),Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:"text-center",children:[Object(T.jsx)("p",{className:"text-coming-soon",children:e("Coming soon...")}),Object(T.jsx)("button",{onClick:o,children:e("Make match")}),Object(T.jsx)("button",{onClick:o,children:e("Find random match")}),Object(T.jsx)(d.b,{to:c.MAIN_PAGE,children:Object(T.jsx)("button",{onClick:function(){return t&&t()},children:e("Main menu")})})]})}),Object(T.jsx)("p",{className:"mobile-helper",children:e("Scroll down to chat")}),Object(T.jsx)(A,{})]})]})},xe=function(e){var n,t=e.pokemon,c=e.rowIndex,a=e.colIndex,o=e.isSelected,i=e.selectPokemon,r=o?"selected":"",s=t.matched?"hidden":"";return Object(T.jsx)("div",{style:{backgroundImage:"url(".concat(null!==(n=t.image)&&void 0!==n?n:"",")")},className:"pokemon-card ".concat(r," ").concat(s),onClick:function(){o||t.matched||!t.nid||i(t.nid,c,a)}})};function Se(e,n){return e.pokemon.nid===n.pokemon.nid&&e.pokemon.image===n.pokemon.image&&e.pokemon.matched===n.pokemon.matched&&e.isSelected===n.isSelected}var Le=Object(a.memo)(xe,Se),ye=function(e){var n=e.pokemons,t=e.rowIndex,c=e.mode,a=Object(x.e)(re),o=le(c).selectPokemon;return Object(T.jsx)(T.Fragment,{children:n.map((function(e,n){return Object(T.jsx)(Le,{pokemon:e,rowIndex:t,colIndex:n,isSelected:void 0!==e.nid&&a.findIndex((function(n){return n.nid===e.nid}))>=0,selectPokemon:o},"card-".concat(n))}))})};function Pe(e){var n=Object(l.g)(),t=Object(x.e)(P),c=(t.playFanfareSound,t.playLevelUpSound),o=t.playCompletedGameSound,i=t.playYouWinSound,r=le(e),u=r.initGame,d=r.replayGame,j=r.endGame,b=r.addNewRankingScore,O=r.updateNewRankingScore,p=Object(x.g)(K),h=Object(x.e)(G),f=Object(x.e)(K),v=f.matrix,S=f.row,L=f.col,N=f.status,k=f.pokemons,_=f.level;return Object(a.useEffect)((function(){return N===g.PENDING&&(u(_),b(e,h.playerName)),function(){}}),[N,u]),Object(a.useEffect)((function(){N===g.COMPLETED&&h.rankingId&&O(h.rankingId,e,h.playerName,h.playerTiming)}),[h.rankingId,h.playerTiming]),Object(a.useEffect)((function(){if(function(e){return Object.keys(e).length&&-1===Object.entries(e).findIndex((function(e){var n=Object(s.a)(e,2);return n[0],!1===n[1].matched}))}(k)){var n=y[_];_!==n||e===m.SURVIVAL_MODE?(u(n,g.RUNNING),o&&o()):e===m.SPEED_MODE&&(i&&i(),p({matrix:v,row:S,col:L,pokemons:k,level:_,status:g.COMPLETED}))}else{var t=oe(k,v,S,L).foundConnectLine;Object.keys(k).length&&!1===t&&(!function(e){var n=Q(e),t=ne(n,S,L),c=t.pokemonMatrix,a=t.pokemons;p({pokemons:a,matrix:c,level:_,row:S,col:L,status:g.RUNNING})}(k),c&&c())}}),[k]),Object(a.useEffect)((function(){N===g.RUNNING&&u(E.LEVEL_1)}),[n]),{initGame:u,replayGame:d,endGame:j,matrix:v,row:S,col:L,status:N,level:_}}var Ne=function(e){var n=e.mode,t=Pe(n),c=t.matrix,a=t.row,o=t.col;return Object(T.jsx)("div",{className:"game-pokemon board-".concat(a,"x").concat(o),children:c&&c.map((function(e,t){return Object(T.jsx)(ye,{mode:n,rowIndex:t,pokemons:e},"row-".concat(t))}))})},ke=function(e){var n=e.point,t=e.suggested,c=e.rowIndex,o=e.colIndex,i=n&&n.type?"".concat(n.type,"-point"):"",r=n&&n.direction?"".concat(n.direction,"-direction"):"",s=n?"in-line ".concat(r," ").concat(i):"",l=t?"suggested":s,u=Object(a.useRef)(null);return Object(a.useEffect)((function(){return setTimeout((function(){u.current&&(r&&u.current.classList.remove(r),i&&u.current.classList.remove(i))}),300),function(){}}),[u,r,i]),Object(T.jsx)("div",{ref:u,className:"line-card ".concat(l),children:Object(T.jsxs)("strong",{children:[c,",",o]})})};function _e(e,n){var t,c,a,o;return void 0===e.point&&void 0===n.point?e.suggested===n.suggested:e.suggested===n.suggested&&(null===(t=e.point)||void 0===t?void 0:t.direction)===(null===(c=n.point)||void 0===c?void 0:c.direction)&&(null===(a=e.point)||void 0===a?void 0:a.type)===(null===(o=n.point)||void 0===o?void 0:o.type)}var Ie=Object(a.memo)(ke,_e),we=function(e){var n=e.cards,t=e.rowIndex,c=e.connectingLinePoints,a=e.suggestPoints;return Object(T.jsx)(T.Fragment,{children:n.map((function(e,n){return Object(T.jsx)(Ie,{rowIndex:t,colIndex:n,point:ce(c,{rowIndex:t,colIndex:n}),suggested:a&&a.findIndex((function(e){return(null===e||void 0===e?void 0:e.rowIndex)===t&&(null===e||void 0===e?void 0:e.colIndex)===n}))>=0},"card-".concat(n))}))})};var Te=function(e){e.mode;var n=function(e){var n=Object(x.e)(ie),t=n.connectingLinePoints,c=n.suggestPoints,a=Object(x.e)(K);return{connectingLinePoints:t,suggestPoints:c,matrix:a.matrix,row:a.row,col:a.col,status:a.status}}(),t=n.connectingLinePoints,c=n.suggestPoints,a=n.matrix,o=n.row,i=n.col,r=new Array(i+2).fill(!1);return Object(T.jsx)("div",{className:"game-overlay board-".concat(o,"x").concat(i),children:a&&a.map((function(e,n){return Object(T.jsx)(we,{cards:r,rowIndex:n,connectingLinePoints:t,suggestPoints:c},"row-".concat(n))}))})},Ae=function(){var e=Object(u.a)().t,n=Object(x.e)(K).level;return Object(T.jsxs)("h3",{className:"game-title",children:[e("Level")," ",n," / 14"]})},Me=function(e){var n=e.hasTiming,t=void 0!==n&&n,c=Object(u.a)().t,o=Object(x.e)(K),i=o.status,r=o.pokemons,l=o.matrix,d=o.row,j=o.col,b=Object(x.e)(P),O=b.playRisingPopSound,p=b.playGlugSound,h=Object(x.d)(G),f=Object(s.a)(h,2),E=f[0],v=f[1],S=Object(x.d)(ie),L=Object(s.a)(S,2),y=L[0].connectingLinePoints,N=L[1],k=Object(a.useState)(0),_=Object(s.a)(k,2),I=_[0],w=_[1],A=Object(a.useRef)(0),M=Object(a.useRef)(0),D=Object(a.useRef)(3),R=le(m.SPEED_MODE).startGame;return Object(a.useEffect)((function(){var e=void 0;if(i===g.PENDING&&t&&(A.current=0),i===g.RUNNING){if(t&&M.current>=10){var n=oe(r,l,d,j),c=n.foundConnectLine,a=n.fromPoint,o=n.toPoint;c&&N((function(e){return Object(V.a)(Object(V.a)({},e),{},{suggestPoints:[a,o]})})),M.current=0}e=setTimeout((function(){A.current++,M.current++,w(I+1)}),1e3)}return i===g.COMPLETED&&e&&clearTimeout(e),function(){e&&clearTimeout(e)}}),[i,I]),Object(a.useEffect)((function(){var e=void 0;if(i===g.PENDING){t&&N((function(e){return Object(V.a)(Object(V.a)({},e),{},{suggestPoints:[void 0,void 0]})})),A.current=0,D.current=3;var n=document.getElementById("count-down-pending-timing");n&&(n.innerText=D.current.toString()),e=setInterval((function(){D.current<=1?(e&&clearInterval(e),D.current=3,R()):D.current--;var n=document.getElementById("count-down-pending-timing");n&&(n.innerText=D.current.toString())}),1e3)}return i===g.COMPLETED&&(e&&clearInterval(e),t&&(M.current=0,v(Object(V.a)(Object(V.a)({},E),{},{playerTiming:A.current})))),function(){M.current=0,D.current=3,e&&clearInterval(e)}}),[i]),Object(a.useEffect)((function(){1===y.length&&(p&&p(),A.current+=5),y.length>1&&(M.current=0,O&&O())}),[y]),Object(T.jsxs)(T.Fragment,{children:[!t&&Object(T.jsx)("div",{id:"count-down-pending-timing",className:"overlay-pending-timing",children:D.current},"count-down"),Object(T.jsxs)("p",{className:"text-center",children:[c("Your time"),": ",Y(A.current)]})]})},Ge=function(e){var n=e.title,t=Object(u.a)().t,c=Object(x.e)(G).playerName,a=Object(x.e)(K).status;return Object(T.jsx)("h1",{className:"game-title",children:a===g.COMPLETED?t("Congratulations")+" "+c:n})},De=function(e){var n=e.action,t=Object(u.a)().t,c=Object(x.e)(G).playerName;return Object(T.jsx)("p",{children:Object(T.jsx)("button",{onClick:function(){return n(c)},children:t("Replay")})})},Ve=function(e){var n=e.hasTiming,t=void 0!==n&&n,c=Object(u.a)().t,a=le(m.SPEED_MODE).replayGame;return Object(T.jsxs)("div",{className:"game-info",children:[Object(T.jsx)(Ge,{title:c("Speed mode")}),Object(T.jsx)(Ae,{}),Object(T.jsx)(Me,{hasTiming:t}),Object(T.jsx)(De,{action:a})]})},Re=function(){var e=Object(u.a)().t,n=Object(x.e)(K).status,t=Object(x.e)(P).playPopUpOnSound;return Object(T.jsxs)("div",{className:"game-container",children:[Object(T.jsxs)(M.a,{children:[Object(T.jsx)("meta",{charSet:"utf-8"}),Object(T.jsx)("title",{children:"Pika pika! - Speed mode board"})]}),Object(T.jsxs)("div",{className:"game-board game-".concat(n),children:[Object(T.jsx)(Ve,{}),Object(T.jsx)(Te,{mode:m.SPEED_MODE}),Object(T.jsx)(Ne,{mode:m.SPEED_MODE})]}),Object(T.jsxs)("div",{className:"sidebar",children:[Object(T.jsx)(Ve,{hasTiming:!0}),Object(T.jsxs)("div",{children:[Object(T.jsx)("blockquote",{className:"game-helper",children:e("Please complete all levels as fast as you can")}),Object(T.jsx)("blockquote",{className:"game-helper",children:e("Choosing the wrong pair will increase the time")})]}),Object(T.jsx)(d.b,{to:c.SINGLE_PLAYER_PAGE,children:Object(T.jsx)("button",{onClick:function(){return t&&t()},children:e("Back")})}),Object(T.jsx)("p",{className:"mobile-helper",children:e("Scroll down to play")}),Object(T.jsx)(A,{})]})]})},Ce=function(e){var n=e.hasTiming,t=void 0!==n&&n,c=Object(u.a)().t,o=Object(x.e)(K),i=o.status,r=o.pokemons,l=o.matrix,d=o.row,j=o.col,b=Object(x.e)(P),O=b.playRisingPopSound,p=b.playGlugSound,h=Object(a.useState)(0),f=Object(s.a)(h,2),E=f[0],v=f[1],S=Object(a.useRef)(0),L=Object(a.useRef)(300),y=Object(a.useRef)(3),N=Object(a.useRef)(0),k=Object(x.d)(G),_=Object(s.a)(k,2),I=_[0],w=_[1],A=le(m.SURVIVAL_MODE),M=A.endGame,D=A.startGame,R=Object(x.d)(ie),C=Object(s.a)(R,2),U=C[0].connectingLinePoints,F=C[1];return Object(a.useEffect)((function(){var e=void 0;if(i===g.PENDING&&t&&(S.current=0,L.current=300),i===g.RUNNING){if(t&&N.current>=10){var n=oe(r,l,d,j),c=n.foundConnectLine,a=n.fromPoint,o=n.toPoint;c&&F((function(e){return Object(V.a)(Object(V.a)({},e),{},{suggestPoints:[a,o]})})),N.current=0}L.current<=0?t&&M():e=setTimeout((function(){S.current++,N.current++,L.current--,v(E+1)}),1e3)}return i===g.COMPLETED&&e&&clearTimeout(e),function(){e&&clearTimeout(e)}}),[i,E]),Object(a.useEffect)((function(){var e=void 0;if(i===g.PENDING){t&&F((function(e){return Object(V.a)(Object(V.a)({},e),{},{suggestPoints:[void 0,void 0]})})),S.current=0,y.current=3;var n=document.getElementById("count-down-pending-timing");n&&(n.innerText=y.current.toString()),e=setInterval((function(){y.current<=1?(e&&clearInterval(e),y.current=3,D()):y.current--;var n=document.getElementById("count-down-pending-timing");n&&(n.innerText=y.current.toString())}),1e3)}return i===g.COMPLETED&&(e&&clearInterval(e),t&&w(Object(V.a)(Object(V.a)({},I),{},{playerTiming:S.current}))),function(){y.current=3,e&&clearInterval(e)}}),[i]),Object(a.useEffect)((function(){1===U.length&&(p&&p(),L.current-=5),U.length>1&&(O&&O(),L.current+=2,N.current=0)}),[U]),Object(T.jsxs)(T.Fragment,{children:[!t&&Object(T.jsx)("div",{id:"count-down-pending-timing",className:"overlay-pending-timing",children:y.current}),Object(T.jsxs)("p",{className:"text-center",children:[c("Your time"),": ",Y(S.current)]}),Object(T.jsxs)("p",{className:"text-center",children:[c("Remaining time"),": ",Y(L.current)]})]})},Ue=function(e){var n=e.hasTiming,t=void 0!==n&&n,c=Object(u.a)().t,a=le(m.SURVIVAL_MODE).replayGame;return Object(T.jsxs)("div",{className:"game-info",children:[Object(T.jsx)(Ge,{title:c("Survival mode")}),Object(T.jsx)(Ae,{}),Object(T.jsx)(Ce,{hasTiming:t}),Object(T.jsx)(De,{action:a})]})},Fe=function(){var e=Object(u.a)().t,n=Object(x.e)(K).status,t=Object(x.e)(P).playPopUpOnSound;return Object(T.jsxs)("div",{className:"game-container",children:[Object(T.jsxs)(M.a,{children:[Object(T.jsx)("meta",{charSet:"utf-8"}),Object(T.jsx)("title",{children:"Pika pika! - Survival mode board"})]}),Object(T.jsxs)("div",{className:"game-board game-".concat(n),children:[Object(T.jsx)(Ue,{}),Object(T.jsx)(Te,{mode:m.SURVIVAL_MODE}),Object(T.jsx)(Ne,{mode:m.SURVIVAL_MODE})]}),Object(T.jsxs)("div",{className:"sidebar",children:[Object(T.jsx)(Ue,{hasTiming:!0}),Object(T.jsxs)("div",{children:[Object(T.jsx)("blockquote",{className:"game-helper",children:e("Try your best not to run out of time as long as possible")}),Object(T.jsx)("blockquote",{className:"game-helper",children:e("Your time will increase when you match a pair of pokemon")}),Object(T.jsx)("blockquote",{className:"game-helper",children:e("Choosing the wrong pair will decrease the time")})]}),Object(T.jsx)(d.b,{to:c.SINGLE_PLAYER_PAGE,children:Object(T.jsx)("button",{onClick:function(){return t&&t()},children:e("Back")})}),Object(T.jsx)("p",{className:"mobile-helper",children:e("Scroll down to play")}),Object(T.jsx)(A,{})]})]})},Ye=function(){var e=Object(u.a)().t,n=Object(l.f)(),t=Object(x.g)(G),a=N("playerName",""),o=Object(s.a)(a,2),i=(o[0],o[1]);return Object(T.jsxs)("div",{className:"main-board",children:[Object(T.jsxs)(M.a,{children:[Object(T.jsx)("meta",{charSet:"utf-8"}),Object(T.jsx)("title",{children:"Pika pika! - Player board"})]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("form",{onSubmit:function(a){a.preventDefault();var o=a.currentTarget.playerName.value;o&&""!==o.trim()?o.match(/^[a-zA-Z0-9 ]*$/gim)?(i(o),t({playerName:o,playerTiming:0}),n.push(c.MAIN_PAGE)):alert(e("Accept alphabet and digit only.")):alert(e("Please enter your name"))},children:[Object(T.jsx)("input",{name:"playerName",autoFocus:!0,placeholder:e("Enter your name here"),maxLength:20,autoComplete:"off"}),Object(T.jsx)("button",{children:e("Submit")})]}),Object(T.jsx)(A,{})]})]})},Be=Object(x.b)({key:"TOGGLE_SOUND",default:{music:0,effect:1}}),We=function(){var e=Object(x.d)(Be),n=Object(s.a)(e,2),t=n[0],c=n[1],a=Object(x.e)(P).playDisableSound,o=t.effect?"icono-volumeMedium":"icono-volumeMute";return Object(T.jsx)("div",{className:"toggle-sound-effect",onClick:function(){c((function(e){return Object(V.a)(Object(V.a)({},e),{},{effect:1===e.effect?0:1})})),t&&a&&a()},children:Object(T.jsx)("i",{className:o})})},Je=function(){var e=Object(x.d)(Be),n=Object(s.a)(e,2),t=n[0],c=n[1],a=t.music?"icono-blue":"icono-black";return Object(T.jsx)("div",{className:"toggle-music-effect",onClick:function(){c((function(e){return Object(V.a)(Object(V.a)({},e),{},{music:1===e.music?0:1})}))},children:Object(T.jsx)("i",{className:"icono-music ".concat(a)})})};var He,Ke=function(){var e=Object(u.a)().t,n=Object(x.e)(P).soundReady,t=Object(l.f)(),o=Object(x.d)(G),i=Object(s.a)(o,2),r=i[0],d=i[1],j=N("language","vi"),b=Object(s.a)(j,1)[0],O=N("playerName",""),m=Object(s.a)(O,2),p=m[0],g=m[1];return Object(a.useEffect)((function(){w.changeLanguage(b)}),[b]),Object(a.useEffect)((function(){p&&""!==p&&p.match(/^[a-zA-Z0-9 ]*$/gim)?""!==r.playerName.trim()&&r.playerName.match(/^[a-zA-Z0-9 ]*$/gim)?d({playerName:r.playerName,playerTiming:0}):d({playerName:p,playerTiming:0}):(g(""),t.push(c.PLAYER_PAGE))}),[p]),Object(T.jsxs)("div",{className:"app",children:[n&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Je,{}),Object(T.jsx)(We,{})]}),!n&&Object(T.jsx)("h1",{children:e("Preparing resource...")}),n&&Object(T.jsxs)(l.c,{children:[Object(T.jsx)(l.a,{path:c.MAIN_PAGE,exact:!0,children:Object(T.jsx)(D,{})}),Object(T.jsx)(l.a,{path:c.SINGLE_PLAYER_PAGE,exact:!0,children:Object(T.jsx)(de,{})}),Object(T.jsx)(l.a,{path:c.MULTI_PLAYER_PAGE,exact:!0,children:Object(T.jsx)(ve,{})}),Object(T.jsx)(l.a,{path:c.SPEED_MODE_PAGE,exact:!0,children:Object(T.jsx)(Re,{})}),Object(T.jsx)(l.a,{path:c.SURVIVAL_MODE_PAGE,exact:!0,children:Object(T.jsx)(Fe,{})}),Object(T.jsx)(l.a,{path:c.PLAYER_PAGE,exact:!0,children:Object(T.jsx)(Ye,{})}),Object(T.jsx)(l.a,{path:"*",children:Object(T.jsx)(D,{})})]})]})},qe=function(e){e&&e instanceof Function&&t.e(4).then(t.bind(null,88)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,o=n.getLCP,i=n.getTTFB;t(e),c(e),a(e),o(e),i(e)}))},Ze=t(52),ze=t.p+"static/media/menu-open.019cf647.mp3",$e=t.p+"static/media/disable-sound.477d0574.mp3",Xe=t.p+"static/media/enable-sound.00d0be95.mp3",Qe=t.p+"static/media/switch-on.88d10ee7.mp3",en=t.p+"static/media/switch-off.e5ebe933.mp3",nn=t.p+"static/media/bite.aea7caff.mp3",tn=t.p+"static/media/fanfare.8807360a.mp3",cn=t.p+"static/media/glug-a.b9f1fa99.mp3",an=t.p+"static/media/rising-pops.7eda816b.mp3",on=t.p+"static/media/game-completion.a7022fca.wav",rn=t.p+"static/media/gamers-fail-game.1bab0c1d.mp3",sn=t.p+"static/media/time-limited.3894918f.wav",ln=t.p+"static/media/levelup.3dc0430f.mp3",un=t.p+"static/media/pop-down.cc0a5518.mp3",dn=t.p+"static/media/pop-up-on.b776a1ef.mp3",jn=t.p+"static/media/pop-up-off.83c6ba5b.mp3",bn=t.p+"static/media/you-win.70d95733.mp3",On=t.p+"static/media/game-song.c7ee5596.mp3";function mn(e){var n=Object(x.e)(Be),t=n.music,c=n.effect,a={interrupt:!0,volume:c},o=ze;if(e)switch(e){case He.BITE:o=nn;break;case He.COMPLETE_GAME:o=on;break;case He.DISABLE:o=$e;break;case He.ENABLE:o=Xe;break;case He.ON:o=Qe;break;case He.OFF:o=en;break;case He.FAIL_GAME:o=rn;break;case He.GLUG:o=cn;break;case He.FANFARE:o=tn;break;case He.RISING_POP:o=an;break;case He.NEARLY_END_TIME:o=sn;break;case He.LEVEL_UP:o=ln;break;case He.POP_DOWN:o=un;break;case He.POP_UP_ON:o=dn;break;case He.POP_UP_OFF:o=jn;break;case He.YOU_WIN:o=bn;break;case He.GAME_SONG:o=On;break;default:o=ze}var i=Object(Ze.a)(o,a),r=Object(s.a)(i,2),l=r[0],u=r[1];return{playSound:l,loadedSound:u.sound,stopSound:u.stop,pauseSound:u.pause,duration:u.duration,music:t,effect:c}}!function(e){e.MENU_OPEN="MENU_OPEN",e.BITE="BITE",e.DISABLE="DISABLE",e.ENABLE="ENABLE",e.ON="ON",e.OFF="OFF",e.FANFARE="FANFARE",e.GLUG="GLUG",e.RISING_POP="RISING_POP",e.COMPLETE_GAME="COMPLETE_GAME",e.FAIL_GAME="FAIL_GAME",e.NEARLY_END_TIME="NEARLY_END_TIME",e.LEVEL_UP="LEVEL_UP",e.POP_DOWN="POP_DOWN",e.POP_UP_ON="POP_UP_ON",e.POP_UP_OFF="POP_UP_OFF",e.YOU_WIN="YOU_WIN",e.GAME_SONG="GAME_SONG"}(He||(He={}));var pn=function(){var e=mn(He.BITE),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playBiteSound:n})}))}),[t,n,c]),null};function gn(){return!0}var hn=Object(a.memo)(pn,gn),fn=function(){var e=mn(He.COMPLETE_GAME),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playCompletedGameSound:n})}))}),[t,c,n]),null},En=function(){var e=mn(He.MENU_OPEN),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playOpenMenuSound:n})}))}),[t,c,n]),null},vn=function(){var e=mn(He.DISABLE),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playDisableSound:n})}))}),[t,n,c]),null},xn=function(){var e=mn(He.ENABLE),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playEnableSound:n})}))}),[t,n,c]),null},Sn=function(){var e=mn(He.FANFARE),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playFanfareSound:n})}))}),[t,c,n]),null},Ln=function(){var e=mn(He.FAIL_GAME),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playFailedGameSound:n})}))}),[t,c,n]),null},yn=function(){var e=mn(He.GAME_SONG),n=e.playSound,t=e.loadedSound,c=e.duration,o=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&o((function(e){return Object(V.a)(Object(V.a)({},e),{},{soundReady:!0,gameSongDuration:null!==c&&void 0!==c?c:0,playGameSong:n})}))}),[t]),null},Pn=function(){var e=mn(He.LEVEL_UP),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playLevelUpSound:n})}))}),[t,c,n]),null},Nn=function(){var e=mn(He.NEARLY_END_TIME),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playNearlyEndTimeSound:n})}))}),[t,c,n]),null},kn=function(){var e=mn(He.OFF),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playOffSound:n})}))}),[t,n,c]),null},_n=function(){var e=mn(He.ON),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playOnSound:n})}))}),[t,n,c]),null},In=function(){var e=mn(He.POP_DOWN),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playPopDownSound:n})}))}),[t,c,n]),null},wn=function(){var e=mn(He.POP_UP_OFF),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playPopUpOffSound:n})}))}),[t,c,n]),null},Tn=function(){var e=mn(He.POP_UP_ON),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playPopUpOnSound:n})}))}),[t,c,n]),null},An=function(){var e=mn(He.YOU_WIN),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playYouWinSound:n})}))}),[t,n,c]),null},Mn=function(){var e=mn(He.RISING_POP),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playRisingPopSound:n})}))}),[t,n,c]),null},Gn=t(53),Dn=t.n(Gn),Vn=function(){var e=Object(x.e)(Be).music;return Object(T.jsx)("div",{className:"game-theme",children:Object(T.jsx)(Dn.a,{url:"https://www.youtube.com/watch?v=6ZUDiC6TB-k",playing:!!e,loop:!0})})},Rn=function(){var e=mn(He.GLUG),n=e.playSound,t=e.loadedSound,c=Object(x.g)(P);return Object(a.useEffect)((function(){null!==t&&c((function(e){return Object(V.a)(Object(V.a)({},e),{},{playGlugSound:n})}))}),[t,c,n]),null},Cn=function(e){var n=e.children;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Vn,{}),Object(T.jsx)(hn,{}),Object(T.jsx)(fn,{}),Object(T.jsx)(vn,{}),Object(T.jsx)(xn,{}),Object(T.jsx)(Ln,{}),Object(T.jsx)(Sn,{}),Object(T.jsx)(yn,{}),Object(T.jsx)(Pn,{}),Object(T.jsx)(Nn,{}),Object(T.jsx)(kn,{}),Object(T.jsx)(_n,{}),Object(T.jsx)(En,{}),Object(T.jsx)(In,{}),Object(T.jsx)(wn,{}),Object(T.jsx)(Tn,{}),Object(T.jsx)(Mn,{}),Object(T.jsx)(An,{}),Object(T.jsx)(Rn,{}),n]})};r.a.render(Object(T.jsx)(o.a.StrictMode,{children:Object(T.jsx)(x.a,{children:Object(T.jsx)(Cn,{children:Object(T.jsx)(d.a,{children:Object(T.jsx)(Ke,{})})})})}),document.getElementById("root")),qe()}},[[85,1,2]]]);
//# sourceMappingURL=main.52ba634d.chunk.js.map