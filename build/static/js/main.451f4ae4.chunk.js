(this["webpackJsonpgame-pikachu-v2"]=this["webpackJsonpgame-pikachu-v2"]||[]).push([[0],{58:function(e,t,n){},59:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c,a=n(1),o=n.n(a),i=n(24),r=n.n(i),l=(n(58),n(4)),s=(n(59),n(7)),u=n(87),d=n(8);!function(e){e.MAIN_PAGE="/",e.PLAYER_PAGE="/player",e.SINGLE_PLAYER_PAGE="/single-player",e.MULTI_PLAYER_PAGE="/multi-player",e.SURVIVAL_MODE_PAGE="/survival-mode",e.SPEED_MODE_PAGE="/speed-mode"}(c||(c={}));var j,b,m,O,p,h,E,g,f,x=n(3),v=n(5);!function(e){e.SELECTED_POKEMONS_SELECTOR="SELECTED_POKEMONS_SELECTOR"}(m||(m={})),function(e){e.SURVIVAL_MODE="survival",e.SPEED_MODE="speed"}(O||(O={})),function(e){e.PLAYER_STATE="PLAYER_STATE",e.GAME_STATE="GAME_STATE",e.GAME_SOUND_STATE="GAME_SOUND_STATE",e.GAME_TIMING_STATE="GAME_TIMING_STATE",e.GAME_OVERLAY_STATE="GAME_OVERLAY_STATE",e.GAME_SUGGEST_TIMING_STATE="GAME_SUGGEST_TIMING_STATE",e.SELECTED_POKEMONS="SELECTED_POKEMONS"}(p||(p={})),function(e){e.RUNNING="running",e.PENDING="pending",e.COMPLETED="completed",e.FAILED="failed"}(h||(h={})),function(e){e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom"}(E||(E={})),function(e){e.START="start",e.END="end",e.LINE="line"}(g||(g={})),function(e){e.LEVEL_1="1",e.LEVEL_2="2",e.LEVEL_3="3",e.LEVEL_4="4",e.LEVEL_5="5",e.LEVEL_6="6",e.LEVEL_7="7",e.LEVEL_8="8",e.LEVEL_9="9",e.LEVEL_10="10",e.LEVEL_11="11",e.LEVEL_12="12",e.LEVEL_13="13",e.LEVEL_14="MAX"}(f||(f={}));var S=(j={},Object(v.a)(j,f.LEVEL_1,{row:3,col:4}),Object(v.a)(j,f.LEVEL_2,{row:4,col:4}),Object(v.a)(j,f.LEVEL_3,{row:4,col:5}),Object(v.a)(j,f.LEVEL_4,{row:4,col:6}),Object(v.a)(j,f.LEVEL_5,{row:4,col:7}),Object(v.a)(j,f.LEVEL_6,{row:6,col:8}),Object(v.a)(j,f.LEVEL_7,{row:7,col:8}),Object(v.a)(j,f.LEVEL_8,{row:8,col:8}),Object(v.a)(j,f.LEVEL_9,{row:8,col:9}),Object(v.a)(j,f.LEVEL_10,{row:8,col:10}),Object(v.a)(j,f.LEVEL_11,{row:8,col:11}),Object(v.a)(j,f.LEVEL_12,{row:8,col:12}),Object(v.a)(j,f.LEVEL_13,{row:9,col:12}),Object(v.a)(j,f.LEVEL_14,{row:10,col:12}),j),L=(b={},Object(v.a)(b,f.LEVEL_1,f.LEVEL_2),Object(v.a)(b,f.LEVEL_2,f.LEVEL_3),Object(v.a)(b,f.LEVEL_3,f.LEVEL_4),Object(v.a)(b,f.LEVEL_4,f.LEVEL_5),Object(v.a)(b,f.LEVEL_5,f.LEVEL_6),Object(v.a)(b,f.LEVEL_6,f.LEVEL_7),Object(v.a)(b,f.LEVEL_7,f.LEVEL_8),Object(v.a)(b,f.LEVEL_8,f.LEVEL_9),Object(v.a)(b,f.LEVEL_9,f.LEVEL_10),Object(v.a)(b,f.LEVEL_10,f.LEVEL_11),Object(v.a)(b,f.LEVEL_11,f.LEVEL_12),Object(v.a)(b,f.LEVEL_12,f.LEVEL_13),Object(v.a)(b,f.LEVEL_13,f.LEVEL_14),Object(v.a)(b,f.LEVEL_14,f.LEVEL_9),b),y=Object(x.b)({key:p.GAME_SOUND_STATE,default:{soundReady:!1,gameSongDuration:0,playOpenMenuSound:void 0,playEnableSound:void 0,playDisableSound:void 0,playCompletedGameSound:void 0,playFailedGameSound:void 0,playBiteSound:void 0,playRisingPopSound:void 0,playFanfareSound:void 0,playGlugSound:void 0,playNearlyEndTimeSound:void 0,playOffSound:void 0,playOnSound:void 0,playLevelUpSound:void 0,playPopDownSound:void 0,playPopUpOnSound:void 0,playPopUpOffSound:void 0,playYouWinSound:void 0,playGameSong:void 0}});function _(e,t){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(c){return console.log(c),t}})),c=Object(l.a)(n,2),o=c[0],i=c[1];return[o,function(t){try{var n=t instanceof Function?t(o):t;i(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(c){console.log(c)}}]}var k=n(38),N=n(22);k.a.use(N.e).init({resources:{en:{translation:{English:"English",Vietnamese:"Vietnamese",Back:"Back",Replay:"Replay",Language:"Language",Level:"Level",Welcome:"Welcome",Congratulations:"Congratulations",Submit:"Submit","The fastest is best":"The fastest is best","The longest is best":"The longest is best","Your score":"Your score","Your time":"Your time","Remaining time":"Remaining time","Top players":"Top players","Single player":"Single player","Multi player":"Multi player","Main menu":"Main menu","Speed mode":"Speed mode","Survival mode":"Survival mode","Coming soon...":"Coming soon...","Scroll down to play":"Scroll down to play","Scroll down to chat":"Scroll down to chat","Preparing resource...":"Preparing resource...","Please complete all levels as fast as you can":"Please complete all levels as fast as you can","Try your best not to run out of time as long as possible.":"Try your best not to run out of time as long as possible","Your time will increase when you match a pair of pokemon":"Your time will increase when you match a pair of pokemon","Choosing the wrong pair will increase the time":"Choosing the wrong pair will increase the time","Choosing the wrong pair will decrease the time":"Choosing the wrong pair will decrease the time","Accept alphabet and digit only.":"Accept alphabet, digits and space only.","Please enter your name":"Please enter your name","Enter your name here":"Enter your name here","Make your own ranking":"Make your own ranking","Make match":"Make match","Find random match":"Find random match","Enter your message here...":"Enter your message here...","Service is not available now.":"Service is not available now.","Please try again":"Please try again","Chat slowly please":"Chat slowly please"}},vi:{translation:{English:"Ti\u1ebfng Anh",Vietnamese:"Ti\u1ebfng Vi\u1ec7t",Back:"Quay v\u1ec1",Replay:"Ch\u01a1i l\u1ea1i",Language:"Ng\xf4n ng\u1eef",Level:"C\u1ea5p \u0111\u1ed9",Welcome:"Ch\xe0o b\u1ea1n",Congratulations:"Xin ch\xfac m\u1eebng",Submit:"Nh\u1eadp","The fastest is best":"Ho\xe0n th\xe0nh c\xe0ng s\u1edbm, th\u1ee9 h\u1ea1ng c\xe0ng cao","The longest is best":"K\xe9o d\xe0i th\u1eddi gian c\xe0ng l\xe2u, th\u1ee9 h\u1ea1ng c\xe0ng cao","Your score":"\u0110i\u1ec3m s\u1ed1 c\u1ee7a b\u1ea1n","Your time":"Th\u1eddi gian c\u1ee7a b\u1ea1n","Remaining time":"Th\u1eddi gian c\xf2n l\u1ea1i","Top players":"Danh s\xe1ch ng\u01b0\u1eddi ch\u01a1i h\xe0ng \u0111\u1ea7u","Single player":"C\xe1 nh\xe2n","Multi player":"\u0110\u1ed1i kh\xe1ng","Main menu":"M\xe0n h\xecnh ch\xednh","Speed mode":"T\u1ed1c \u0111\u1ed9","Survival mode":"Sinh t\u1ed3n","Coming soon...":"\u0110ang ph\xe1t tri\u1ec3n...","Preparing resource...":"\u0110ang chu\u1ea9n b\u1ecb...","Scroll down to play":"L\u0103n chu\u1ed9t xu\u1ed1ng \u0111\u1ec3 ch\u01a1i","Scroll down to chat":"L\u0103n chu\u1ed9t xu\u1ed1ng \u0111\u1ec3 nh\u1eafn tin","Please complete all levels as fast as you can":"H\xe3y ho\xe0n th\xe0nh t\u1ea5t c\u1ea3 c\u1ea5p \u0111\u1ed9 nhanh nh\u1ea5t c\xf3 th\u1ec3 ","Try your best not to run out of time as long as possible":"C\u1ed1 g\u1eafng h\u1ebft s\u1ee9c \u0111\u1ec3 kh\xf4ng h\u1ebft th\u1eddi gian l\xe2u nh\u1ea5t c\xf3 th\u1ec3","Your time will increase when you match a pair of pokemon":"Th\u1eddi gian c\u1ee7a b\u1ea1n s\u1ebd t\u0103ng th\xeam khi ch\u1ecdn kh\u1edbp m\u1ed9t c\u1eb7p pokemon","Choosing the wrong pair will increase the time":"Ch\u1ecdn sai c\u1eb7p s\u1ebd b\u1ecb t\u0103ng th\xeam th\u1eddi gian","Choosing the wrong pair will decrease the time":"Ch\u1ecdn sai c\u1eb7p s\u1ebd b\u1ecb gi\u1ea3m th\u1eddi gian","Accept alphabet and digit only.":"Ch\u1ec9 ch\u1ea5p nh\u1eadn ch\u1eef c\xe1i, ch\u1eef s\u1ed1 v\xe0 k\xed t\u1ef1 tr\u1eafng.","Please enter your name":"H\xe3y nh\u1eadp t\xean c\u1ee7a b\u1ea1n","Enter your name here":"Nh\u1eadp t\xean b\u1ea1n t\u1ea1i \u0111\xe2y","Make your own ranking":"T\u1ea1o x\u1ebfp h\u1ea1ng c\u1ee7a b\u1ea1n","Make match":"T\u1ea1o tr\u1eadn \u0111\u1ea5u","Find random match":"T\xecm tr\u1eadn ng\u1eabu nhi\xean","Enter your message here...":"Nh\u1eadp tin nh\u1eafn t\u1ea1i \u0111\xe2y...","Service is not available now.":"D\u1ecbch v\u1ee5 hi\u1ec7n t\u1ea1i kh\xf4ng kh\u1ea3 d\u1ee5ng.","Please try again":"Th\u1eed l\u1ea1i","Chat slowly please":"Chat ch\u1eadm l\u1ea1i b\u1ea1n nh\xe9"}}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});var P,I=k.a,T=n(0),w=function(){var e=Object(u.a)().t,t=Object(x.e)(y).playOffSound,n=_("language","vi"),c=Object(l.a)(n,2),a=(c[0],c[1]),o=function(e){I.changeLanguage(e),a(e),t&&t()};return Object(T.jsxs)("h5",{className:"select-language",children:[e("Language"),":"," ",Object(T.jsx)("strong",{onClick:function(){return o("en")},children:e("English")})," -"," ",Object(T.jsx)("strong",{onClick:function(){return o("vi")},children:e("Vietnamese")})]})},A=n(14),M=Object(x.b)({key:p.PLAYER_STATE,default:{rankingId:"",playerName:"",playerTiming:0}}),G=function(){var e=Object(u.a)().t,t=Object(x.e)(y).playPopUpOnSound,n=Object(x.e)(M).playerName;return Object(T.jsxs)("div",{className:"main-board",children:[Object(T.jsxs)(A.a,{children:[Object(T.jsx)("meta",{charSet:"utf-8"}),Object(T.jsx)("title",{children:"Pika pika! - Main board"})]}),Object(T.jsxs)("nav",{className:"navigation",children:[Object(T.jsxs)("h3",{className:"text-center",children:[e("Welcome"),", ",n]}),Object(T.jsx)(d.b,{to:c.SINGLE_PLAYER_PAGE,children:Object(T.jsx)("button",{onClick:function(){return t&&t()},children:e("Single player")})}),Object(T.jsx)(d.b,{to:c.MULTI_PLAYER_PAGE,children:Object(T.jsx)("button",{onClick:function(){return t&&t()},children:e("Multi player")})}),Object(T.jsx)(w,{})]})]})},D=n(2),V="http://localhost:8080",R={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},C=function(e){return fetch("".concat(V,"/rankings?mode=").concat(e)).then((function(e){return e.json()})).then((function(e){return e}),(function(e){return e}))};!function(e){e.SUCCESS="success",e.ERROR="error",e.IDLE="idle",e.PENDING="pending"}(P||(P={}));var U=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(a.useState)(P.IDLE),c=Object(l.a)(n,2),o=c[0],i=c[1],r=Object(a.useState)(null),s=Object(l.a)(r,2),u=s[0],d=s[1],j=Object(a.useState)(null),b=Object(l.a)(j,2),m=b[0],O=b[1],p=Object(a.useCallback)((function(){return i(P.PENDING),d(null),O(null),e().then((function(e){e&&d(e),i(P.SUCCESS)})).catch((function(e){e&&O(e),i(P.ERROR)}))}),[e]);return Object(a.useEffect)((function(){t&&p()}),[p,t]),{execute:p,status:o,value:u,error:m}};function F(e){if(e<=0)return"00:00";var t=e%60;return Math.floor(e/60).toString().padStart(2,"0")+":"+t.toString().padStart(2,"0")}function Y(e){return new Date(e).toLocaleString()}var B=function(e){var t,n=e.fetch,a=e.mode,o=Object(u.a)().t,i=Object(x.e)(y).playPopUpOnSound,r=U(n,!0),l=r.status,s=r.value,j=r.error;return Object(T.jsxs)(T.Fragment,{children:[s&&null===s.data&&(a===O.SPEED_MODE?Object(T.jsx)(d.b,{to:c.SPEED_MODE_PAGE,children:Object(T.jsx)("button",{onClick:function(){return i&&i()},style:{width:"calc(100% - 32px)",margin:16},children:o("Make your own ranking")})}):Object(T.jsx)(d.b,{to:c.SURVIVAL_MODE_PAGE,children:Object(T.jsx)("button",{onClick:function(){return i&&i()},style:{width:"calc(100% - 32px)",margin:16},children:o("Make your own ranking")})})),Object(T.jsxs)("ol",{className:"rank-list",children:[l===P.SUCCESS&&(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.map((function(e,t){return e.timing&&Object(T.jsxs)("li",{children:[e.playerName," - ",F(e.timing)," -"," ",Y(e.timestamp)]},"id-".concat(t))}))),l===P.ERROR&&j&&Object(T.jsx)("p",{className:"has-error",children:j})]})]})},W=function(){var e=Object(u.a)().t;return Object(T.jsxs)("div",{className:"max-screen-container rank-board",children:[Object(T.jsx)("h1",{children:e("Top players")}),Object(T.jsxs)("div",{className:"row",children:[Object(T.jsxs)("div",{className:"col",children:[Object(T.jsx)("h4",{children:Object(T.jsx)("em",{children:e("The longest is best")})}),Object(T.jsx)(B,{fetch:function(){return C(O.SURVIVAL_MODE)},mode:O.SURVIVAL_MODE})]}),Object(T.jsxs)("div",{className:"col",children:[Object(T.jsx)("h4",{children:Object(T.jsx)("em",{children:e("The fastest is best")})}),Object(T.jsx)(B,{fetch:function(){return C(O.SPEED_MODE)},mode:O.SPEED_MODE})]})]})]})},J=Object(a.memo)(W,(function(){return!0})),H=Object(x.b)({key:p.GAME_STATE,default:{status:h.PENDING,row:3,col:4,pokemons:{},matrix:[],level:f.LEVEL_1}}),K=n(11),q=n(39),Z="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white",z=[{id:"poke-0",matched:!1,image:"".concat(Z,"/1.png")},{id:"poke-1",matched:!1,image:"".concat(Z,"/2.png")},{id:"poke-2",matched:!1,image:"".concat(Z,"/3.png")},{id:"poke-3",matched:!1,image:"".concat(Z,"/4.png")},{id:"poke-5",matched:!1,image:"".concat(Z,"/5.png")},{id:"poke-4",matched:!1,image:"".concat(Z,"/6.png")},{id:"poke-6",matched:!1,image:"".concat(Z,"/7.png")},{id:"poke-7",matched:!1,image:"".concat(Z,"/8.png")},{id:"poke-8",matched:!1,image:"".concat(Z,"/9.png")},{id:"poke-9",matched:!1,image:"".concat(Z,"/10.png")},{id:"poke-10",matched:!1,image:"".concat(Z,"/11.png")},{id:"poke-11",matched:!1,image:"".concat(Z,"/12.png")},{id:"poke-12",matched:!1,image:"".concat(Z,"/13.png")},{id:"poke-13",matched:!1,image:"".concat(Z,"/14.png")},{id:"poke-14",matched:!1,image:"".concat(Z,"/15.png")},{id:"poke-15",matched:!1,image:"".concat(Z,"/16.png")},{id:"poke-16",matched:!1,image:"".concat(Z,"/17.png")},{id:"poke-17",matched:!1,image:"".concat(Z,"/18.png")},{id:"poke-18",matched:!1,image:"".concat(Z,"/19.png")},{id:"poke-19",matched:!1,image:"".concat(Z,"/20.png")},{id:"poke-20",matched:!1,image:"".concat(Z,"/21.png")},{id:"poke-21",matched:!1,image:"".concat(Z,"/22.png")},{id:"poke-22",matched:!1,image:"".concat(Z,"/23.png")},{id:"poke-23",matched:!1,image:"".concat(Z,"/24.png")},{id:"poke-24",matched:!1,image:"".concat(Z,"/25.png")},{id:"poke-25",matched:!1,image:"".concat(Z,"/26.png")},{id:"poke-26",matched:!1,image:"".concat(Z,"/27.png")},{id:"poke-27",matched:!1,image:"".concat(Z,"/28.png")},{id:"poke-28",matched:!1,image:"".concat(Z,"/29.png")},{id:"poke-29",matched:!1,image:"".concat(Z,"/30.png")},{id:"poke-30",matched:!1,image:"".concat(Z,"/31.png")},{id:"poke-31",matched:!1,image:"".concat(Z,"/32.png")},{id:"poke-32",matched:!1,image:"".concat(Z,"/33.png")},{id:"poke-33",matched:!1,image:"".concat(Z,"/34.png")},{id:"poke-34",matched:!1,image:"".concat(Z,"/35.png")},{id:"poke-35",matched:!1,image:"".concat(Z,"/36.png")},{id:"poke-36",matched:!1,image:"".concat(Z,"/37.png")},{id:"poke-37",matched:!1,image:"".concat(Z,"/38.png")},{id:"poke-38",matched:!1,image:"".concat(Z,"/39.png")},{id:"poke-39",matched:!1,image:"".concat(Z,"/40.png")}],$=function(e){var t=e.sort((function(){return Math.random()-.5})),n={};return t.map((function(e){var t=Object(q.a)();return n[t]=e,e})),n},X=function(e){var t=function(e){var t=[];return Object.keys(e).map((function(n){return t.push(e[n]),n})),t}(e);return $(t)},Q=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,c=Object(D.a)({},e),a=n+2,o=t+2,i=Object.keys(e),r=[],l=0;l<o;l++){void 0===r[l]&&(r[l]=[]);for(var s=0;s<a;s++)if(0===l||l===o-1||0===s||s===a-1){var u=Object(q.a)(),d={nid:u,id:u,matched:!0};r[l].push(d)}else{var j=i.pop();if(j){var b=Object(D.a)(Object(D.a)({},c[j]),{},{nid:j,row:l,col:s});c[j]=Object(D.a)(Object(D.a)({},c[j]),{},{rowIndex:l,colIndex:s}),r[l].push(b)}}}return{pokemonMatrix:r,pokemons:c}},ee=function(e,t,n,c,a){var o=function(e,t,n,c,a){for(var o=c+2,i=a+2,r=function(e){for(var t=[],n=e.length,c=0;c<n;c++)t[c]=e[c].slice();return t}(n),l=[],s=[],u=0;u<o;++u){l.push([]),s.push([]);for(var d=0;d<i;++d){var j=Object(D.a)({},r[u][d]);l[u].push(j.matched),s[u].push(void 0)}}var b=[-1,0,1,0],m=[0,1,0,-1],O=[];for(O.push(t),s[t.rowIndex][t.colIndex]={rowIndex:-2,colIndex:-2},l[e.rowIndex][e.colIndex]=!0,l[t.rowIndex][t.colIndex]=!0;O.length;){var p=O.shift();if(p){if((null===p||void 0===p?void 0:p.rowIndex)===e.rowIndex&&(null===p||void 0===p?void 0:p.colIndex)===e.colIndex)break;for(var h=0;h<4;h++)for(var E=p.rowIndex+b[h],g=p.colIndex+m[h];E>=0&&E<o&&g>=0&&g<i&&!0===l[E][g];)void 0===s[E][g]&&(s[E][g]=p,O.push({rowIndex:E,colIndex:g})),E+=b[h],g+=m[h]}}var f=[],x=Object(D.a)({},e);if(s[x.rowIndex][x.colIndex])for(;-2!==x.rowIndex&&-2!==x.colIndex;)f.push({rowIndex:x.rowIndex,colIndex:x.colIndex}),x=Object(D.a)({},s[x.rowIndex][x.colIndex]);return f}(e,t,n,c,a);return{connected:o.length>=2&&o.length<=4,pathPoints:o}},te=function(e,t){var n=t.rowIndex,c=t.colIndex;return e.find((function(e){return e.rowIndex===n&&e.colIndex===c}))},ne=function(e,t,n,c,a){var o=Object(D.a)({},t),i=Object(K.a)(e),r=Object(l.a)(i,2),s=r[0],u=r[1],d=[],j=Object(K.a)(n);if((null===s||void 0===s?void 0:s.nid)&&(null===u||void 0===u?void 0:u.nid)&&t[s.nid].id===t[u.nid].id){var b=ee(s,u,n,c,a),m=b.connected,O=b.pathPoints;if(m)d=function(e,t,n){var c=t+2,a=n+2;return e.reduce((function(e,t,n,o){var i=g.LINE,r=void 0,l=n-1;if(void 0===o[n+1]&&(i=g.END),o[l]){var s=o[l];s.rowIndex>t.rowIndex?r=E.TOP:s.rowIndex<t.rowIndex?r=E.BOTTOM:s.colIndex>t.colIndex?r=E.LEFT:s.colIndex<t.colIndex?r=E.RIGHT:s.rowIndex>t.rowIndex?r=E.TOP:s.rowIndex<t.rowIndex&&(r=E.BOTTOM);var u=Object(D.a)(Object(D.a)({},t),{},{direction:r,type:g.LINE});do{switch(u.direction){case E.BOTTOM:u.rowIndex--,u.rowIndex<0&&(u=void 0);break;case E.TOP:u.rowIndex++,u.rowIndex>=c&&(u=void 0);break;case E.LEFT:u.colIndex++,u.colIndex>=a&&(u=void 0);break;case E.RIGHT:u.colIndex--,u.colIndex<0&&(u=void 0)}if(void 0===u)break;if(u.rowIndex===s.rowIndex&&u.colIndex===s.colIndex)break;e.push(Object(D.a)({},u))}while(void 0!==u)}else i=g.START;var d=Object(D.a)(Object(D.a)({},t),{},{direction:r,type:i});return e.push(d),e}),[])}(O,c,a),o[s.nid]=Object(D.a)(Object(D.a)({},o[s.nid]),{},{matched:!0}),o[u.nid]=Object(D.a)(Object(D.a)({},o[u.nid]),{},{matched:!0}),j=Q(o,c,a).pokemonMatrix;else d=[{rowIndex:-1,colIndex:-1}];i.length=0}else 2===e.length&&(i.length=0,d=[{rowIndex:-1,colIndex:-1}]);return{newSelectedPokemons:i,newMatrix:j,newPokemons:o,connectingLinePoints:d}},ce=Object(x.b)({key:p.GAME_OVERLAY_STATE,default:{connectingLinePoints:[]}}),ae=Object(x.b)({key:p.SELECTED_POKEMONS,default:[]}),oe=Object(x.b)({key:p.GAME_SUGGEST_TIMING_STATE,default:0}),ie=Object(x.c)({key:m.SELECTED_POKEMONS_SELECTOR,get:function(e){return(0,e.get)(ae)},set:function(e,t){var n=e.set,c=e.get,a=c(H),o=a.row,i=a.col,r=a.status,l=a.matrix,s=a.pokemons,u=a.level,d=c(ae),j=Object(K.a)(d);j.push(t);var b=ne(j,s,l,o,i),m=b.connectingLinePoints,O=b.newMatrix,p=b.newPokemons,h=b.newSelectedPokemons;m.length>=1&&(m.length>1&&(n(H,{row:o,col:i,status:r,level:u,matrix:O,pokemons:p}),n(oe,0)),n(ce,{connectingLinePoints:m})),n(ae,h)}}),re=Object(x.b)({key:p.GAME_TIMING_STATE,default:{timing:0,yourTiming:0}});function le(e){var t=Object(x.g)(H),n=Object(x.g)(M),c=Object(x.g)(re),o=Object(x.g)(ie),i=Object(x.f)(H),r=Object(x.f)(ce),l=Object(x.f)(ae),s=Object(x.e)(y),u=s.playBiteSound,d=s.playFanfareSound,j=s.playNearlyEndTimeSound,b=Object(a.useCallback)((function(e){var c=S[e],a=c.row,o=c.col,i=function(e,t){var n=e*t/4,c=z.sort((function(){return Math.random()-.5})).slice(0,n),a=[].concat(Object(K.a)(c),Object(K.a)(c),Object(K.a)(c),Object(K.a)(c));return $(a)}(a,o),r=Q(i,a,o),l=r.pokemonMatrix,s=r.pokemons;t({pokemons:s,matrix:l,level:e,row:a,col:o,status:h.RUNNING}),n((function(e){return Object(D.a)(Object(D.a)({},e),{},{playerTiming:0})}))}),[t]),m=function(e,t){(function(e){var t=Object(D.a)(Object(D.a)({},R),{},{body:JSON.stringify(e)});return fetch("".concat(V,"/rankings"),t).then((function(e){return e.json()})).then((function(e){return e}),(function(e){return e}))})({mode:e,playerName:t,timestamp:Date.now()}).then((function(e){n((function(t){return Object(D.a)(Object(D.a)({},t),{},{rankingId:e.id})}))}))};return{initGame:b,replayGame:function(t){d&&d(),b(f.LEVEL_1),m(e,t),e===O.SURVIVAL_MODE&&c({timing:300,yourTiming:0}),e===O.SPEED_MODE&&c({timing:0})},endGame:function(){e===O.SURVIVAL_MODE&&(j&&j(),t((function(e){return Object(D.a)(Object(D.a)({},e),{},{status:h.COMPLETED})})))},selectPokemon:function(e,t,n){u&&u(),o({nid:e,rowIndex:t,colIndex:n})},resetGame:function(){i(),r(),l()},addNewRankingScore:m,updateNewRankingScore:function(e,t,n,c){!function(e,t){var n=Object(D.a)(Object(D.a)({},R),{},{method:"PUT",body:JSON.stringify(t)});fetch("".concat(V,"/rankings/").concat(e),n).then((function(e){return e.json()})).then((function(e){return e}),(function(e){return e}))}(e,{mode:t,playerName:n,timing:c,timestamp:Date.now()})}}}var se,ue=function(){var e=Object(u.a)().t,t=Object(x.e)(y),n=t.playPopUpOnSound,o=(t.playGameSong,le(O.SURVIVAL_MODE).resetGame);return Object(a.useEffect)((function(){o()}),[o]),Object(T.jsxs)("div",{className:"game-container",children:[Object(T.jsxs)(A.a,{children:[Object(T.jsx)("meta",{charSet:"utf-8"}),Object(T.jsx)("title",{children:"Pika pika! - Single player"})]}),Object(T.jsx)("div",{className:"game-board",children:Object(T.jsx)(J,{})}),Object(T.jsxs)("div",{className:"sidebar",children:[Object(T.jsx)("div",{className:"game-info",children:Object(T.jsx)("h1",{className:"game-title",children:e("Single player")})}),Object(T.jsxs)("div",{children:[Object(T.jsx)(d.b,{to:c.SURVIVAL_MODE_PAGE,children:Object(T.jsx)("button",{onClick:function(){return n&&n()},children:e("Survival mode")})}),Object(T.jsx)(d.b,{to:c.SPEED_MODE_PAGE,children:Object(T.jsx)("button",{onClick:function(){return n&&n()},children:e("Speed mode")})}),Object(T.jsx)(d.b,{to:c.MAIN_PAGE,children:Object(T.jsx)("button",{onClick:function(){return n&&n()},children:e("Back")})})]}),Object(T.jsx)(w,{})]})]})},de=n(30),je=n.n(de);!function(e){e.MESSAGES_STATE="MESSAGES_STATE"}(se||(se={}));var be=Object(x.b)({key:se.MESSAGES_STATE,default:{messages:[]}}),me=function(e){var t=e.handleSubmit,n=Object(u.a)().t,c=Object(a.useState)(1),o=Object(l.a)(c,2),i=o[0],r=o[1];return Object(T.jsx)("div",{className:"chat-box",children:Object(T.jsx)("form",{onSubmit:function(e){i?(r(0),t(e),setTimeout((function(){r(1)}),300)):alert(n("Chat slowly please"))},children:Object(T.jsx)("input",{name:"message",placeholder:n("Enter your message here..."),autoFocus:!0,autoComplete:"off"})})})},Oe=function(e){var t=e.message,n=Object(x.e)(M).playerName;try{var c=JSON.parse(t),a=c.name,o=c.content,i=c.timestamp,r=n===a?"self":"";return Object(T.jsxs)("div",{className:"message ".concat(r),children:[Object(T.jsx)("small",{className:"message-name",children:a}),Object(T.jsx)("strong",{className:"message-content",children:o}),Object(T.jsx)("small",{className:"message-date",children:Object(T.jsx)("em",{children:Y(i)})})]})}catch(l){return null}};function pe(e,t){return e.message===t.message}var he=Object(a.memo)(Oe,pe),Ee=function(){var e=Object(x.e)(be).messages;return Object(a.useEffect)((function(){var e=document.getElementById("messages-box");e&&e.scrollTo({behavior:"smooth",top:e.scrollHeight})}),[e.length]),Object(T.jsx)("div",{id:"messages-box",className:"messages-box",children:e.map((function(e,t){return e&&Object(T.jsx)(he,{message:e.content},t)}))})},ge=function(e){e.room;var t=Object(u.a)().t,n=Object(x.e)(M).playerName,c=Object(x.e)(y).playPopUpOffSound,o=Object(x.g)(be),i=Object(a.useState)("".concat("ws://localhost:8080","/chat")),r=Object(l.a)(i,1)[0],s=je()(r,{reconnectAttempts:10,reconnectInterval:3e3,retryOnError:!0,shouldReconnect:function(){return!0},queryParams:{username:n},onMessage:function(e){c&&c()}}),d=s.sendJsonMessage,j=s.readyState,b=s.lastJsonMessage,m=s.lastMessage;Object(a.useEffect)((function(){b&&o((function(e){var t=e.messages;return{messages:[].concat(Object(K.a)(t),[b])}}))}),[m]);var O=Object(a.useCallback)((function(e){var t={command:2,channel:"general",name:n,content:e,timestamp:Date.now()};d(t)}),[]);return Object(T.jsx)("div",{className:"chat-room",children:Object(T.jsxs)("div",{className:"chat-container",children:[j===de.ReadyState.OPEN&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Ee,{}),Object(T.jsx)(me,{handleSubmit:function(e){e.preventDefault();var n=e.currentTarget.message;n.setAttribute("disabled","true");var c=n.value.replace(/\b(dit|du|fuck|cu|dcm|dm|dcm|cat)\b/g,"*");c&&""!==c.trim()?(O(c),n.value=""):alert(t("Please enter your message")),n.removeAttribute("disabled"),n.focus()}})]}),j===de.ReadyState.CLOSED&&Object(T.jsxs)("div",{className:"service-status",children:[t("Service is not available now."),Object(T.jsx)("strong",{className:"clickable",onClick:function(){window.location.reload()},children:t("Please try again")})]})]})})},fe=function(){var e=Object(u.a)().t,t=Object(x.e)(y),n=t.playPopUpOnSound,a=t.playGlugSound,o=function(){a&&a(),alert(e("In development"))};return Object(T.jsxs)("div",{className:"chat-board",children:[Object(T.jsxs)(A.a,{children:[Object(T.jsx)("meta",{charSet:"utf-8"}),Object(T.jsx)("title",{children:"Pika pika! - Multi player"})]}),Object(T.jsx)("div",{className:"game-board",children:Object(T.jsx)(ge,{room:"general"})}),Object(T.jsxs)("div",{className:"sidebar",children:[Object(T.jsx)("div",{className:"game-info",children:Object(T.jsx)("h1",{className:"game-title",children:e("Multi player")})}),Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:"text-center",children:[Object(T.jsx)("p",{className:"text-coming-soon",children:e("Coming soon...")}),Object(T.jsx)("button",{onClick:o,children:e("Make match")}),Object(T.jsx)("button",{onClick:o,children:e("Find random match")}),Object(T.jsx)(d.b,{to:c.MAIN_PAGE,children:Object(T.jsx)("button",{onClick:function(){return n&&n()},children:e("Main menu")})})]})}),Object(T.jsx)("p",{className:"mobile-helper",children:e("Scroll down to chat")}),Object(T.jsx)(w,{})]})]})},xe=function(e){var t,n=e.pokemon,c=e.rowIndex,a=e.colIndex,o=e.isSelected,i=e.selectPokemon,r=o?"selected":"",l=n.matched?"hidden":"";return Object(T.jsx)("div",{style:{backgroundImage:"url(".concat(null!==(t=n.image)&&void 0!==t?t:"",")")},className:"pokemon-card ".concat(r," ").concat(l),onClick:function(){o||n.matched||!n.nid||i(n.nid,c,a)}})};function ve(e,t){return e.pokemon.nid===t.pokemon.nid&&e.pokemon.image===t.pokemon.image&&e.pokemon.matched===t.pokemon.matched&&e.isSelected===t.isSelected}var Se=Object(a.memo)(xe,ve),Le=function(e){var t=e.pokemons,n=e.rowIndex,c=e.mode,a=Object(x.e)(ae),o=le(c).selectPokemon;return Object(T.jsx)(T.Fragment,{children:t.map((function(e,t){return Object(T.jsx)(Se,{pokemon:e,rowIndex:n,colIndex:t,isSelected:void 0!==e.nid&&a.findIndex((function(t){return t.nid===e.nid}))>=0,selectPokemon:o},"card-".concat(t))}))})};function ye(e){var t=Object(s.g)(),n=Object(x.e)(y),c=n.playFanfareSound,o=n.playLevelUpSound,i=n.playCompletedGameSound,r=n.playYouWinSound,u=le(e),d=u.initGame,j=u.replayGame,b=u.endGame,m=u.addNewRankingScore,p=u.updateNewRankingScore,E=Object(x.g)(H),g=Object(x.e)(M),v=Object(x.g)(re),S=Object(x.e)(H),_=S.matrix,k=S.row,N=S.col,P=S.status,I=S.pokemons,T=S.level;return Object(a.useEffect)((function(){return P===h.PENDING&&(c&&c(),d(T),m(e,g.playerName),e===O.SURVIVAL_MODE&&v({timing:300,yourTiming:0}),e===O.SPEED_MODE&&v({timing:0})),function(){}}),[P,d]),Object(a.useEffect)((function(){P===h.COMPLETED&&g.rankingId&&p(g.rankingId,e,g.playerName,g.playerTiming)}),[g.rankingId,g.playerTiming]),Object(a.useEffect)((function(){if(function(e){return Object.keys(e).length&&-1===Object.entries(e).findIndex((function(e){var t=Object(l.a)(e,2);return t[0],!1===t[1].matched}))}(I)){var t=L[T];T!==t||e===O.SURVIVAL_MODE?(d(t),i&&i()):e===O.SPEED_MODE&&(r&&r(),E({matrix:_,row:k,col:N,pokemons:I,level:T,status:h.COMPLETED}))}else Object.keys(I).length&&!1===function(e,t,n,c){for(var a=!1,o=Object.entries(e),i=function(){var e=o.pop();if(void 0===e)return"break";var i=Object(l.a)(e,2),r=(i[0],i[1]);return!1===r.matched&&(a=o.some((function(e){var a=Object(l.a)(e,2),o=(a[0],a[1]);return r.id===o.id&&!1===o.matched&&ee(r,o,t,n,c).connected})))?"break":void 0};o.length&&"break"!==i(););return a}(I,_,k,N)&&(!function(e){var t=X(e),n=Q(t,k,N),c=n.pokemonMatrix,a=n.pokemons;E({pokemons:a,matrix:c,level:T,row:k,col:N,status:h.RUNNING})}(I),o&&o())}),[I]),Object(a.useEffect)((function(){P===h.RUNNING&&(c&&c(),d(f.LEVEL_1),e===O.SURVIVAL_MODE&&v({timing:300,yourTiming:0}),e===O.SPEED_MODE&&v({timing:0}))}),[t]),{initGame:d,replayGame:j,endGame:b,matrix:_,row:k,col:N,status:P,level:T}}var _e=function(e){var t=e.mode,n=ye(t),c=n.matrix,a=n.row,o=n.col;return Object(T.jsx)("div",{className:"game-pokemon board-".concat(a,"x").concat(o),children:c&&c.map((function(e,n){return Object(T.jsx)(Le,{mode:t,rowIndex:n,pokemons:e},"row-".concat(n))}))})},ke=function(e){var t=e.point,n=e.rowIndex,c=e.colIndex,o=t&&t.type?"".concat(t.type,"-point"):"",i=t&&t.direction?"".concat(t.direction,"-direction"):"",r=t?"in-line ".concat(i," ").concat(o):"",l=Object(a.useRef)(null);return Object(a.useEffect)((function(){return setTimeout((function(){l.current&&(i&&l.current.classList.remove(i),o&&l.current.classList.remove(o))}),300),function(){}}),[l,i,o]),Object(T.jsx)("div",{ref:l,className:"line-card ".concat(r),children:Object(T.jsxs)("strong",{children:[n,",",c]})})};function Ne(e,t){var n,c,a,o;return void 0===e.point&&void 0===t.point||(null===(n=e.point)||void 0===n?void 0:n.direction)===(null===(c=t.point)||void 0===c?void 0:c.direction)&&(null===(a=e.point)||void 0===a?void 0:a.type)===(null===(o=t.point)||void 0===o?void 0:o.type)}var Pe=Object(a.memo)(ke,Ne),Ie=function(e){var t=e.cards,n=e.rowIndex,c=e.connectingLinePoints;return Object(T.jsx)(T.Fragment,{children:t.map((function(e,t){return Object(T.jsx)(Pe,{rowIndex:n,colIndex:t,point:te(c,{rowIndex:n,colIndex:t})},"card-".concat(t))}))})};var Te=function(e){var t=function(e){var t=Object(x.e)(ce).connectingLinePoints,n=Object(x.e)(H),c=n.matrix,o=n.row,i=n.col,r=n.status,l=Object(x.e)(y),s=l.playRisingPopSound,u=l.playGlugSound,d=Object(x.g)(re);return Object(a.useEffect)((function(){1===t.length&&(u&&u(),e===O.SPEED_MODE&&d((function(e){return{timing:e.timing+5}})),e===O.SURVIVAL_MODE&&d((function(e){return Object(D.a)(Object(D.a)({},e),{},{timing:e.timing-5})}))),t.length>1&&(s&&s(),e===O.SURVIVAL_MODE&&d((function(e){return Object(D.a)(Object(D.a)({},e),{},{timing:e.timing+2})})))}),[t]),{connectingLinePoints:t,matrix:c,row:o,col:i,status:r}}(e.mode),n=t.connectingLinePoints,c=t.matrix,o=t.row,i=t.col,r=new Array(i+2).fill(!1);return Object(T.jsx)("div",{className:"game-overlay board-".concat(o,"x").concat(i),children:c&&c.map((function(e,t){return Object(T.jsx)(Ie,{cards:r,rowIndex:t,connectingLinePoints:n},"row-".concat(t))}))})},we=function(){var e=Object(u.a)().t,t=Object(x.e)(H),n=t.level,c=t.status,o=Object(x.d)(re),i=Object(l.a)(o,2),r=i[0],s=i[1],d=Object(x.d)(oe),j=Object(l.a)(d,2),b=j[0],m=j[1],p=Object(x.d)(M),E=Object(l.a)(p,2),g=E[0],f=E[1],v=r.timing,S=le(O.SPEED_MODE).replayGame;return Object(a.useEffect)((function(){var e=void 0;return c===h.RUNNING&&(b>=15&&m(0),e=setTimeout((function(){s({timing:v+1}),m(b+1)}),1e3)),c===h.COMPLETED&&(e&&clearTimeout(e),f(Object(D.a)(Object(D.a)({},g),{},{playerTiming:v}))),function(){e&&clearTimeout(e)}}),[v,c]),Object(T.jsxs)("div",{className:"game-info",children:[Object(T.jsx)("h1",{className:"game-title",children:c===h.COMPLETED?e("Congratulations")+" "+g.playerName:e("Speed mode")}),Object(T.jsxs)("h3",{className:"game-title",children:[e("Level")," ",n," / 14"]}),Object(T.jsxs)("p",{className:"text-center",children:[e("Your time"),": ",F(v)]}),Object(T.jsx)("p",{children:Object(T.jsx)("button",{onClick:function(){return S(g.playerName)},children:e("Replay")})})]})},Ae=function(){var e=Object(u.a)().t,t=Object(x.e)(H).status,n=Object(x.e)(y).playPopUpOnSound;return Object(T.jsxs)("div",{className:"game-container",children:[Object(T.jsxs)(A.a,{children:[Object(T.jsx)("meta",{charSet:"utf-8"}),Object(T.jsx)("title",{children:"Pika pika! - Speed mode board"})]}),Object(T.jsxs)("div",{className:"game-board game-".concat(t),children:[Object(T.jsx)(we,{}),Object(T.jsx)(Te,{mode:O.SPEED_MODE}),Object(T.jsx)(_e,{mode:O.SPEED_MODE})]}),Object(T.jsxs)("div",{className:"sidebar",children:[Object(T.jsx)(we,{}),Object(T.jsxs)("div",{children:[Object(T.jsx)("blockquote",{className:"game-helper",children:e("Please complete all levels as fast as you can")}),Object(T.jsx)("blockquote",{className:"game-helper",children:e("Choosing the wrong pair will increase the time")})]}),Object(T.jsx)(d.b,{to:c.SINGLE_PLAYER_PAGE,children:Object(T.jsx)("button",{onClick:function(){return n&&n()},children:e("Back")})}),Object(T.jsx)("p",{className:"mobile-helper",children:e("Scroll down to play")}),Object(T.jsx)(w,{})]})]})},Me=function(){var e=Object(u.a)().t,t=Object(x.e)(H),n=t.level,c=t.status,o=Object(x.d)(re),i=Object(l.a)(o,2),r=i[0],s=i[1],d=r.timing,j=r.yourTiming,b=void 0===j?0:j,m=Object(x.d)(M),p=Object(l.a)(m,2),E=p[0],g=p[1],f=le(O.SURVIVAL_MODE),v=f.replayGame,S=f.endGame;return Object(a.useEffect)((function(){var e=void 0;return c===h.RUNNING&&(d<=0?(e&&clearTimeout(e),S()):e=setTimeout((function(){s({yourTiming:b+1,timing:d-1})}),1e3)),function(){e&&clearTimeout(e)}}),[d,c]),Object(a.useEffect)((function(){c===h.COMPLETED&&g(Object(D.a)(Object(D.a)({},E),{},{playerTiming:b}))}),[c]),Object(T.jsxs)("div",{className:"game-info",children:[Object(T.jsx)("h1",{className:"game-title",children:c===h.COMPLETED?e("Congratulations")+" "+E.playerName:e("Survival mode")}),Object(T.jsxs)("h3",{className:"game-title",children:[e("Level")," ",n," / 14"]}),Object(T.jsxs)("p",{className:"text-center",children:[e("Your time"),": ",b&&F(b)]}),Object(T.jsxs)("p",{className:"text-center",children:[e("Remaining time"),": ",F(d)]}),Object(T.jsx)("p",{children:Object(T.jsx)("button",{onClick:function(){return v(E.playerName)},children:e("Replay")})})]})},Ge=function(){var e=Object(u.a)().t,t=Object(x.e)(H).status,n=Object(x.e)(y).playPopUpOnSound;return Object(T.jsxs)("div",{className:"game-container",children:[Object(T.jsxs)(A.a,{children:[Object(T.jsx)("meta",{charSet:"utf-8"}),Object(T.jsx)("title",{children:"Pika pika! - Survival mode board"})]}),Object(T.jsxs)("div",{className:"game-board game-".concat(t),children:[Object(T.jsx)(Me,{}),Object(T.jsx)(Te,{mode:O.SURVIVAL_MODE}),Object(T.jsx)(_e,{mode:O.SURVIVAL_MODE})]}),Object(T.jsxs)("div",{className:"sidebar",children:[Object(T.jsx)(Me,{}),Object(T.jsxs)("div",{children:[Object(T.jsx)("blockquote",{className:"game-helper",children:e("Try your best not to run out of time as long as possible")}),Object(T.jsx)("blockquote",{className:"game-helper",children:e("Your time will increase when you match a pair of pokemon")}),Object(T.jsx)("blockquote",{className:"game-helper",children:e("Choosing the wrong pair will decrease the time")})]}),Object(T.jsx)(d.b,{to:c.SINGLE_PLAYER_PAGE,children:Object(T.jsx)("button",{onClick:function(){return n&&n()},children:e("Back")})}),Object(T.jsx)("p",{className:"mobile-helper",children:e("Scroll down to play")}),Object(T.jsx)(w,{})]})]})},De=function(){var e=Object(u.a)().t,t=Object(s.f)(),n=Object(x.g)(M),a=_("playerName",""),o=Object(l.a)(a,2),i=(o[0],o[1]);return Object(T.jsxs)("div",{className:"main-board",children:[Object(T.jsxs)(A.a,{children:[Object(T.jsx)("meta",{charSet:"utf-8"}),Object(T.jsx)("title",{children:"Pika pika! - Player board"})]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("form",{onSubmit:function(a){a.preventDefault();var o=a.currentTarget.playerName.value;o&&""!==o.trim()?o.match(/^[a-zA-Z0-9 ]*$/gim)?(i(o),n({playerName:o,playerTiming:0}),t.push(c.MAIN_PAGE)):alert(e("Accept alphabet and digit only.")):alert(e("Please enter your name"))},children:[Object(T.jsx)("input",{name:"playerName",autoFocus:!0,placeholder:e("Enter your name here"),maxLength:20,autoComplete:"off"}),Object(T.jsx)("button",{children:e("Submit")})]}),Object(T.jsx)(w,{})]})]})},Ve=Object(x.b)({key:"TOGGLE_SOUND",default:{music:0,effect:1}}),Re=function(){var e=Object(x.d)(Ve),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(x.e)(y),o=a.playDisableSound,i=(a.playEnableSound,n.effect?"icono-volumeMedium":"icono-volumeMute");return Object(T.jsx)("div",{className:"toggle-sound-effect",onClick:function(){c((function(e){return Object(D.a)(Object(D.a)({},e),{},{effect:1===e.effect?0:1})})),n&&o&&o()},children:Object(T.jsx)("i",{className:i})})},Ce=function(){var e=Object(x.d)(Ve),t=Object(l.a)(e,2),n=t[0],c=t[1],a=n.music?"icono-blue":"icono-black";return Object(T.jsx)("div",{className:"toggle-music-effect",onClick:function(){c((function(e){return Object(D.a)(Object(D.a)({},e),{},{music:1===e.music?0:1})}))},children:Object(T.jsx)("i",{className:"icono-music ".concat(a)})})};var Ue,Fe=function(){var e=Object(u.a)().t,t=Object(x.e)(y).soundReady,n=Object(s.f)(),o=Object(x.d)(M),i=Object(l.a)(o,2),r=i[0],d=i[1],j=_("language","vi"),b=Object(l.a)(j,1)[0],m=_("playerName",""),O=Object(l.a)(m,2),p=O[0],h=O[1];return Object(a.useEffect)((function(){I.changeLanguage(b)}),[b]),Object(a.useEffect)((function(){p&&""!==p&&p.match(/^[a-zA-Z0-9 ]*$/gim)?""!==r.playerName.trim()&&r.playerName.match(/^[a-zA-Z0-9 ]*$/gim)?d({playerName:r.playerName,playerTiming:0}):d({playerName:p,playerTiming:0}):(h(""),n.push(c.PLAYER_PAGE))}),[p]),Object(T.jsxs)("div",{className:"app",children:[t&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Ce,{}),Object(T.jsx)(Re,{})]}),!t&&Object(T.jsx)("h1",{children:e("Preparing resource...")}),t&&Object(T.jsxs)(s.c,{children:[Object(T.jsx)(s.a,{path:c.MAIN_PAGE,exact:!0,children:Object(T.jsx)(G,{})}),Object(T.jsx)(s.a,{path:c.SINGLE_PLAYER_PAGE,exact:!0,children:Object(T.jsx)(ue,{})}),Object(T.jsx)(s.a,{path:c.MULTI_PLAYER_PAGE,exact:!0,children:Object(T.jsx)(fe,{})}),Object(T.jsx)(s.a,{path:c.SPEED_MODE_PAGE,exact:!0,children:Object(T.jsx)(Ae,{})}),Object(T.jsx)(s.a,{path:c.SURVIVAL_MODE_PAGE,exact:!0,children:Object(T.jsx)(Ge,{})}),Object(T.jsx)(s.a,{path:c.PLAYER_PAGE,exact:!0,children:Object(T.jsx)(De,{})}),Object(T.jsx)(s.a,{path:"*",children:Object(T.jsx)(G,{})})]})]})},Ye=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,88)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))},Be=n(52),We=n.p+"static/media/menu-open.019cf647.mp3",Je=n.p+"static/media/disable-sound.477d0574.mp3",He=n.p+"static/media/enable-sound.00d0be95.mp3",Ke=n.p+"static/media/switch-on.88d10ee7.mp3",qe=n.p+"static/media/switch-off.e5ebe933.mp3",Ze=n.p+"static/media/bite.aea7caff.mp3",ze=n.p+"static/media/fanfare.8807360a.mp3",$e=n.p+"static/media/glug-a.b9f1fa99.mp3",Xe=n.p+"static/media/rising-pops.7eda816b.mp3",Qe=n.p+"static/media/game-completion.a7022fca.wav",et=n.p+"static/media/gamers-fail-game.1bab0c1d.mp3",tt=n.p+"static/media/time-limited.3894918f.wav",nt=n.p+"static/media/levelup.3dc0430f.mp3",ct=n.p+"static/media/pop-down.cc0a5518.mp3",at=n.p+"static/media/pop-up-on.b776a1ef.mp3",ot=n.p+"static/media/pop-up-off.83c6ba5b.mp3",it=n.p+"static/media/you-win.70d95733.mp3",rt=n.p+"static/media/game-song.c7ee5596.mp3";function lt(e){var t=Object(x.e)(Ve),n=t.music,c=t.effect,a={interrupt:!0,volume:c},o=We;if(e)switch(e){case Ue.BITE:o=Ze;break;case Ue.COMPLETE_GAME:o=Qe;break;case Ue.DISABLE:o=Je;break;case Ue.ENABLE:o=He;break;case Ue.ON:o=Ke;break;case Ue.OFF:o=qe;break;case Ue.FAIL_GAME:o=et;break;case Ue.GLUG:o=$e;break;case Ue.FANFARE:o=ze;break;case Ue.RISING_POP:o=Xe;break;case Ue.NEARLY_END_TIME:o=tt;break;case Ue.LEVEL_UP:o=nt;break;case Ue.POP_DOWN:o=ct;break;case Ue.POP_UP_ON:o=at;break;case Ue.POP_UP_OFF:o=ot;break;case Ue.YOU_WIN:o=it;break;case Ue.GAME_SONG:o=rt;break;default:o=We}var i=Object(Be.a)(o,a),r=Object(l.a)(i,2),s=r[0],u=r[1];return{playSound:s,loadedSound:u.sound,stopSound:u.stop,pauseSound:u.pause,duration:u.duration,music:n,effect:c}}!function(e){e.MENU_OPEN="MENU_OPEN",e.BITE="BITE",e.DISABLE="DISABLE",e.ENABLE="ENABLE",e.ON="ON",e.OFF="OFF",e.FANFARE="FANFARE",e.GLUG="GLUG",e.RISING_POP="RISING_POP",e.COMPLETE_GAME="COMPLETE_GAME",e.FAIL_GAME="FAIL_GAME",e.NEARLY_END_TIME="NEARLY_END_TIME",e.LEVEL_UP="LEVEL_UP",e.POP_DOWN="POP_DOWN",e.POP_UP_ON="POP_UP_ON",e.POP_UP_OFF="POP_UP_OFF",e.YOU_WIN="YOU_WIN",e.GAME_SONG="GAME_SONG"}(Ue||(Ue={}));var st=function(){var e=lt(Ue.BITE),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playBiteSound:t})}))}),[n,t,c]),null};function ut(){return!0}var dt=Object(a.memo)(st,ut),jt=function(){var e=lt(Ue.COMPLETE_GAME),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playCompletedGameSound:t})}))}),[n,c,t]),null},bt=function(){var e=lt(Ue.MENU_OPEN),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playOpenMenuSound:t})}))}),[n,c,t]),null},mt=function(){var e=lt(Ue.DISABLE),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playDisableSound:t})}))}),[n,t,c]),null},Ot=function(){var e=lt(Ue.ENABLE),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playEnableSound:t})}))}),[n,t,c]),null},pt=function(){var e=lt(Ue.FANFARE),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playFanfareSound:t})}))}),[n,c,t]),null},ht=function(){var e=lt(Ue.FAIL_GAME),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playFailedGameSound:t})}))}),[n,c,t]),null},Et=function(){var e=lt(Ue.GAME_SONG),t=e.playSound,n=e.loadedSound,c=e.duration,o=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&o((function(e){return Object(D.a)(Object(D.a)({},e),{},{soundReady:!0,gameSongDuration:null!==c&&void 0!==c?c:0,playGameSong:t})}))}),[n]),null},gt=function(){var e=lt(Ue.LEVEL_UP),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playLevelUpSound:t})}))}),[n,c,t]),null},ft=function(){var e=lt(Ue.NEARLY_END_TIME),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playNearlyEndTimeSound:t})}))}),[n,c,t]),null},xt=function(){var e=lt(Ue.OFF),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playOffSound:t})}))}),[n,t,c]),null},vt=function(){var e=lt(Ue.ON),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playOnSound:t})}))}),[n,t,c]),null},St=function(){var e=lt(Ue.POP_DOWN),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playPopDownSound:t})}))}),[n,c,t]),null},Lt=function(){var e=lt(Ue.POP_UP_OFF),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playPopUpOffSound:t})}))}),[n,c,t]),null},yt=function(){var e=lt(Ue.POP_UP_ON),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playPopUpOnSound:t})}))}),[n,c,t]),null},_t=function(){var e=lt(Ue.YOU_WIN),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playYouWinSound:t})}))}),[n,t,c]),null},kt=function(){var e=lt(Ue.RISING_POP),t=e.playSound,n=e.loadedSound,c=Object(x.g)(y);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(D.a)(Object(D.a)({},e),{},{playRisingPopSound:t})}))}),[n,t,c]),null},Nt=n(53),Pt=n.n(Nt),It=function(){var e=Object(x.e)(Ve).music;return Object(T.jsx)("div",{className:"game-theme",children:Object(T.jsx)(Pt.a,{url:"https://www.youtube.com/watch?v=6ZUDiC6TB-k",playing:!!e,loop:!0})})},Tt=function(e){var t=e.children;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(It,{}),Object(T.jsx)(dt,{}),Object(T.jsx)(jt,{}),Object(T.jsx)(mt,{}),Object(T.jsx)(Ot,{}),Object(T.jsx)(ht,{}),Object(T.jsx)(pt,{}),Object(T.jsx)(Et,{}),Object(T.jsx)(gt,{}),Object(T.jsx)(ft,{}),Object(T.jsx)(xt,{}),Object(T.jsx)(vt,{}),Object(T.jsx)(bt,{}),Object(T.jsx)(St,{}),Object(T.jsx)(Lt,{}),Object(T.jsx)(yt,{}),Object(T.jsx)(kt,{}),Object(T.jsx)(_t,{}),t]})};r.a.render(Object(T.jsx)(o.a.StrictMode,{children:Object(T.jsx)(x.a,{children:Object(T.jsx)(Tt,{children:Object(T.jsx)(d.a,{children:Object(T.jsx)(Fe,{})})})})}),document.getElementById("root")),Ye()}},[[85,1,2]]]);
//# sourceMappingURL=main.451f4ae4.chunk.js.map