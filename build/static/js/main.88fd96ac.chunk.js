(this["webpackJsonpgame-pikachu-v2"]=this["webpackJsonpgame-pikachu-v2"]||[]).push([[0],{58:function(e,t,n){},59:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c,a=n(1),o=n.n(a),i=n(25),r=n.n(i),l=(n(58),n(4)),s=(n(59),n(7)),u=n(87),d=n(8);!function(e){e.MAIN_PAGE="/",e.PLAYER_PAGE="/player",e.SINGLE_PLAYER_PAGE="/single-player",e.MULTI_PLAYER_PAGE="/multi-player",e.SURVIVAL_MODE_PAGE="/survival-mode",e.SPEED_MODE_PAGE="/speed-mode"}(c||(c={}));var j,b,O,m,p,h,E,f,g,x,v=n(2),S=n(5);!function(e){e.SELECTED_POKEMONS_SELECTOR="SELECTED_POKEMONS_SELECTOR"}(O||(O={})),function(e){e.SURVIVAL_MODE="survival",e.SPEED_MODE="speed"}(m||(m={})),function(e){e.PLAYER_STATE="PLAYER_STATE",e.GAME_STATE="GAME_STATE",e.GAME_SOUND_STATE="GAME_SOUND_STATE",e.GAME_TIMING_STATE="GAME_TIMING_STATE",e.GAME_OVERLAY_STATE="GAME_OVERLAY_STATE",e.GAME_SUGGEST_TIMING_STATE="GAME_SUGGEST_TIMING_STATE",e.SELECTED_POKEMONS="SELECTED_POKEMONS"}(p||(p={})),function(e){e.RUNNING="running",e.PENDING="pending",e.COMPLETED="completed",e.FAILED="failed"}(h||(h={})),function(e){e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom"}(E||(E={})),function(e){e.START="start",e.END="end",e.LINE="line"}(f||(f={})),(x=g||(g={})).LEVEL_1="1",x.LEVEL_2="2",x.LEVEL_3="3",x.LEVEL_4="4",x.LEVEL_5="5",x.LEVEL_6="6",x.LEVEL_7="7",x.LEVEL_8="8",x.LEVEL_9="9",x.LEVEL_10="10",x.LEVEL_11="11",x.LEVEL_12="12",x.LEVEL_13="13",x.LEVEL_14="MAX";var L=(j={},Object(S.a)(j,g.LEVEL_1,{row:3,col:4}),Object(S.a)(j,g.LEVEL_2,{row:4,col:4}),Object(S.a)(j,g.LEVEL_3,{row:4,col:5}),Object(S.a)(j,g.LEVEL_4,{row:4,col:6}),Object(S.a)(j,g.LEVEL_5,{row:4,col:7}),Object(S.a)(j,g.LEVEL_6,{row:6,col:8}),Object(S.a)(j,g.LEVEL_7,{row:7,col:8}),Object(S.a)(j,g.LEVEL_8,{row:8,col:8}),Object(S.a)(j,g.LEVEL_9,{row:8,col:9}),Object(S.a)(j,g.LEVEL_10,{row:8,col:10}),Object(S.a)(j,g.LEVEL_11,{row:8,col:11}),Object(S.a)(j,g.LEVEL_12,{row:8,col:12}),Object(S.a)(j,g.LEVEL_13,{row:9,col:12}),Object(S.a)(j,g.LEVEL_14,{row:10,col:12}),j),y=(b={},Object(S.a)(b,g.LEVEL_1,g.LEVEL_2),Object(S.a)(b,g.LEVEL_2,g.LEVEL_3),Object(S.a)(b,g.LEVEL_3,g.LEVEL_4),Object(S.a)(b,g.LEVEL_4,g.LEVEL_5),Object(S.a)(b,g.LEVEL_5,g.LEVEL_6),Object(S.a)(b,g.LEVEL_6,g.LEVEL_7),Object(S.a)(b,g.LEVEL_7,g.LEVEL_8),Object(S.a)(b,g.LEVEL_8,g.LEVEL_9),Object(S.a)(b,g.LEVEL_9,g.LEVEL_10),Object(S.a)(b,g.LEVEL_10,g.LEVEL_11),Object(S.a)(b,g.LEVEL_11,g.LEVEL_12),Object(S.a)(b,g.LEVEL_12,g.LEVEL_13),Object(S.a)(b,g.LEVEL_13,g.LEVEL_14),Object(S.a)(b,g.LEVEL_14,g.LEVEL_9),b),_=300,N=Object(v.b)({key:p.GAME_SOUND_STATE,default:{soundReady:!1,gameSongDuration:0,playOpenMenuSound:void 0,playEnableSound:void 0,playDisableSound:void 0,playCompletedGameSound:void 0,playFailedGameSound:void 0,playBiteSound:void 0,playRisingPopSound:void 0,playFanfareSound:void 0,playGlugSound:void 0,playNearlyEndTimeSound:void 0,playOffSound:void 0,playOnSound:void 0,playLevelUpSound:void 0,playPopDownSound:void 0,playPopUpOnSound:void 0,playPopUpOffSound:void 0,playYouWinSound:void 0,playGameSong:void 0}});function k(e,t){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(c){return console.log(c),t}})),c=Object(l.a)(n,2),o=c[0],i=c[1];return[o,function(t){try{var n=t instanceof Function?t(o):t;i(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(c){console.log(c)}}]}var P=n(39),I=n(23);P.a.use(I.e).init({resources:{en:{translation:{English:"English",Vietnamese:"Vietnamese",Back:"Back",Replay:"Replay",Language:"Language",Level:"Level",Welcome:"Welcome",Congratulations:"Congratulations",Submit:"Submit","The fastest is best":"The fastest is best","The longest is best":"The longest is best","Your score":"Your score","Your time":"Your time","Remaining time":"Remaining time","Top players":"Top players","Single player":"Single player","Multi player":"Multi player","Main menu":"Main menu","Speed mode":"Speed mode","Survival mode":"Survival mode","Coming soon...":"Coming soon...","Scroll down to play":"Scroll down to play","Scroll down to chat":"Scroll down to chat","Preparing resource...":"Preparing resource...","Please complete all levels as fast as you can":"Please complete all levels as fast as you can","Try your best not to run out of time as long as possible.":"Try your best not to run out of time as long as possible","Your time will increase when you match a pair of pokemon":"Your time will increase when you match a pair of pokemon","Choosing the wrong pair will increase the time":"Choosing the wrong pair will increase the time","Choosing the wrong pair will decrease the time":"Choosing the wrong pair will decrease the time","Accept alphabet and digit only.":"Accept alphabet, digits and space only.","Please enter your name":"Please enter your name","Enter your name here":"Enter your name here","Make your own ranking":"Make your own ranking","Make match":"Make match","Find random match":"Find random match","Enter your message here...":"Enter your message here...","Service is not available now.":"Service is not available now.","Please try again":"Please try again","Chat slowly please":"Chat slowly please"}},vi:{translation:{English:"Ti\u1ebfng Anh",Vietnamese:"Ti\u1ebfng Vi\u1ec7t",Back:"Quay v\u1ec1",Replay:"Ch\u01a1i l\u1ea1i",Language:"Ng\xf4n ng\u1eef",Level:"C\u1ea5p \u0111\u1ed9",Welcome:"Ch\xe0o b\u1ea1n",Congratulations:"Xin ch\xfac m\u1eebng",Submit:"Nh\u1eadp","The fastest is best":"Ho\xe0n th\xe0nh c\xe0ng s\u1edbm, th\u1ee9 h\u1ea1ng c\xe0ng cao","The longest is best":"K\xe9o d\xe0i th\u1eddi gian c\xe0ng l\xe2u, th\u1ee9 h\u1ea1ng c\xe0ng cao","Your score":"\u0110i\u1ec3m s\u1ed1 c\u1ee7a b\u1ea1n","Your time":"Th\u1eddi gian c\u1ee7a b\u1ea1n","Remaining time":"Th\u1eddi gian c\xf2n l\u1ea1i","Top players":"Danh s\xe1ch ng\u01b0\u1eddi ch\u01a1i h\xe0ng \u0111\u1ea7u","Single player":"C\xe1 nh\xe2n","Multi player":"\u0110\u1ed1i kh\xe1ng","Main menu":"M\xe0n h\xecnh ch\xednh","Speed mode":"T\u1ed1c \u0111\u1ed9","Survival mode":"Sinh t\u1ed3n","Coming soon...":"\u0110ang ph\xe1t tri\u1ec3n...","Preparing resource...":"\u0110ang chu\u1ea9n b\u1ecb...","Scroll down to play":"L\u0103n chu\u1ed9t xu\u1ed1ng \u0111\u1ec3 ch\u01a1i","Scroll down to chat":"L\u0103n chu\u1ed9t xu\u1ed1ng \u0111\u1ec3 nh\u1eafn tin","Please complete all levels as fast as you can":"H\xe3y ho\xe0n th\xe0nh t\u1ea5t c\u1ea3 c\u1ea5p \u0111\u1ed9 nhanh nh\u1ea5t c\xf3 th\u1ec3 ","Try your best not to run out of time as long as possible":"C\u1ed1 g\u1eafng h\u1ebft s\u1ee9c \u0111\u1ec3 kh\xf4ng h\u1ebft th\u1eddi gian l\xe2u nh\u1ea5t c\xf3 th\u1ec3","Your time will increase when you match a pair of pokemon":"Th\u1eddi gian c\u1ee7a b\u1ea1n s\u1ebd t\u0103ng th\xeam khi ch\u1ecdn kh\u1edbp m\u1ed9t c\u1eb7p pokemon","Choosing the wrong pair will increase the time":"Ch\u1ecdn sai c\u1eb7p s\u1ebd b\u1ecb t\u0103ng th\xeam th\u1eddi gian","Choosing the wrong pair will decrease the time":"Ch\u1ecdn sai c\u1eb7p s\u1ebd b\u1ecb gi\u1ea3m th\u1eddi gian","Accept alphabet and digit only.":"Ch\u1ec9 ch\u1ea5p nh\u1eadn ch\u1eef c\xe1i, ch\u1eef s\u1ed1 v\xe0 k\xed t\u1ef1 tr\u1eafng.","Please enter your name":"H\xe3y nh\u1eadp t\xean c\u1ee7a b\u1ea1n","Enter your name here":"Nh\u1eadp t\xean b\u1ea1n t\u1ea1i \u0111\xe2y","Make your own ranking":"T\u1ea1o x\u1ebfp h\u1ea1ng c\u1ee7a b\u1ea1n","Make match":"T\u1ea1o tr\u1eadn \u0111\u1ea5u","Find random match":"T\xecm tr\u1eadn ng\u1eabu nhi\xean","Enter your message here...":"Nh\u1eadp tin nh\u1eafn t\u1ea1i \u0111\xe2y...","Service is not available now.":"D\u1ecbch v\u1ee5 hi\u1ec7n t\u1ea1i kh\xf4ng kh\u1ea3 d\u1ee5ng.","Please try again":"Th\u1eed l\u1ea1i","Chat slowly please":"Chat ch\u1eadm l\u1ea1i b\u1ea1n nh\xe9"}}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});var T,w=P.a,A=n(0),M=function(){var e=Object(u.a)().t,t=Object(v.e)(N).playOffSound,n=k("language","vi"),c=Object(l.a)(n,2),a=(c[0],c[1]),o=function(e){w.changeLanguage(e),a(e),t&&t()};return Object(A.jsxs)("h5",{className:"select-language",children:[e("Language"),":"," ",Object(A.jsx)("strong",{onClick:function(){return o("en")},children:e("English")})," -"," ",Object(A.jsx)("strong",{onClick:function(){return o("vi")},children:e("Vietnamese")})]})},G=n(14),D=Object(v.b)({key:p.PLAYER_STATE,default:{rankingId:"",playerName:"",playerTiming:0}}),V=function(){var e=Object(u.a)().t,t=Object(v.e)(N).playPopUpOnSound,n=Object(v.e)(D).playerName;return Object(A.jsxs)("div",{className:"main-board",children:[Object(A.jsxs)(G.a,{children:[Object(A.jsx)("meta",{charSet:"utf-8"}),Object(A.jsx)("title",{children:"Pika pika! - Main board"})]}),Object(A.jsxs)("nav",{className:"navigation",children:[Object(A.jsxs)("h3",{className:"text-center",children:[e("Welcome"),", ",n]}),Object(A.jsx)(d.b,{to:c.SINGLE_PLAYER_PAGE,children:Object(A.jsx)("button",{onClick:function(){return t&&t()},children:e("Single player")})}),Object(A.jsx)(d.b,{to:c.MULTI_PLAYER_PAGE,children:Object(A.jsx)("button",{onClick:function(){return t&&t()},children:e("Multi player")})}),Object(A.jsx)(M,{})]})]})},R=n(3),C="http://localhost:8080",U={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},F=function(e){return fetch("".concat(C,"/rankings?mode=").concat(e)).then((function(e){return e.json()})).then((function(e){return e}),(function(e){return e}))};!function(e){e.SUCCESS="success",e.ERROR="error",e.IDLE="idle",e.PENDING="pending"}(T||(T={}));var Y=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(a.useState)(T.IDLE),c=Object(l.a)(n,2),o=c[0],i=c[1],r=Object(a.useState)(null),s=Object(l.a)(r,2),u=s[0],d=s[1],j=Object(a.useState)(null),b=Object(l.a)(j,2),O=b[0],m=b[1],p=Object(a.useCallback)((function(){return i(T.PENDING),d(null),m(null),e().then((function(e){e&&d(e),i(T.SUCCESS)})).catch((function(e){e&&m(e),i(T.ERROR)}))}),[e]);return Object(a.useEffect)((function(){t&&p()}),[p,t]),{execute:p,status:o,value:u,error:O}};function B(e){if(e<=0)return"00:00";var t=e%60;return Math.floor(e/60).toString().padStart(2,"0")+":"+t.toString().padStart(2,"0")}function W(e){return new Date(e).toLocaleString()}var J=function(e){var t,n=e.fetch,a=e.mode,o=Object(u.a)().t,i=Object(v.e)(N).playPopUpOnSound,r=Y(n,!0),l=r.status,s=r.value,j=r.error;return Object(A.jsxs)(A.Fragment,{children:[s&&null===s.data&&(a===m.SPEED_MODE?Object(A.jsx)(d.b,{to:c.SPEED_MODE_PAGE,children:Object(A.jsx)("button",{onClick:function(){return i&&i()},style:{width:"calc(100% - 32px)",margin:16},children:o("Make your own ranking")})}):Object(A.jsx)(d.b,{to:c.SURVIVAL_MODE_PAGE,children:Object(A.jsx)("button",{onClick:function(){return i&&i()},style:{width:"calc(100% - 32px)",margin:16},children:o("Make your own ranking")})})),Object(A.jsxs)("ol",{className:"rank-list",children:[l===T.SUCCESS&&(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.map((function(e,t){return e.timing&&Object(A.jsxs)("li",{children:[e.playerName," - ",B(e.timing)," -"," ",W(e.timestamp)]},"id-".concat(t))}))),l===T.ERROR&&j&&Object(A.jsx)("p",{className:"has-error",children:j})]})]})},H=function(){var e=Object(u.a)().t;return Object(A.jsxs)("div",{className:"max-screen-container rank-board",children:[Object(A.jsx)("h1",{children:e("Top players")}),Object(A.jsxs)("div",{className:"row",children:[Object(A.jsxs)("div",{className:"col",children:[Object(A.jsx)("h4",{children:Object(A.jsx)("em",{children:e("The longest is best")})}),Object(A.jsx)(J,{fetch:function(){return F(m.SURVIVAL_MODE)},mode:m.SURVIVAL_MODE})]}),Object(A.jsxs)("div",{className:"col",children:[Object(A.jsx)("h4",{children:Object(A.jsx)("em",{children:e("The fastest is best")})}),Object(A.jsx)(J,{fetch:function(){return F(m.SPEED_MODE)},mode:m.SPEED_MODE})]})]})]})},K=Object(a.memo)(H,(function(){return!0})),q=Object(v.b)({key:p.GAME_STATE,default:{status:h.PENDING,row:3,col:4,pokemons:{},matrix:[],level:g.LEVEL_1}}),Z=n(11),z=n(22),$="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white",X=[{id:"poke-0",matched:!1,image:"".concat($,"/1.png")},{id:"poke-1",matched:!1,image:"".concat($,"/2.png")},{id:"poke-2",matched:!1,image:"".concat($,"/3.png")},{id:"poke-3",matched:!1,image:"".concat($,"/4.png")},{id:"poke-5",matched:!1,image:"".concat($,"/5.png")},{id:"poke-4",matched:!1,image:"".concat($,"/6.png")},{id:"poke-6",matched:!1,image:"".concat($,"/7.png")},{id:"poke-7",matched:!1,image:"".concat($,"/8.png")},{id:"poke-8",matched:!1,image:"".concat($,"/9.png")},{id:"poke-9",matched:!1,image:"".concat($,"/10.png")},{id:"poke-10",matched:!1,image:"".concat($,"/11.png")},{id:"poke-11",matched:!1,image:"".concat($,"/12.png")},{id:"poke-12",matched:!1,image:"".concat($,"/13.png")},{id:"poke-13",matched:!1,image:"".concat($,"/14.png")},{id:"poke-14",matched:!1,image:"".concat($,"/15.png")},{id:"poke-15",matched:!1,image:"".concat($,"/16.png")},{id:"poke-16",matched:!1,image:"".concat($,"/17.png")},{id:"poke-17",matched:!1,image:"".concat($,"/18.png")},{id:"poke-18",matched:!1,image:"".concat($,"/19.png")},{id:"poke-19",matched:!1,image:"".concat($,"/20.png")},{id:"poke-20",matched:!1,image:"".concat($,"/21.png")},{id:"poke-21",matched:!1,image:"".concat($,"/22.png")},{id:"poke-22",matched:!1,image:"".concat($,"/23.png")},{id:"poke-23",matched:!1,image:"".concat($,"/24.png")},{id:"poke-24",matched:!1,image:"".concat($,"/25.png")},{id:"poke-25",matched:!1,image:"".concat($,"/26.png")},{id:"poke-26",matched:!1,image:"".concat($,"/27.png")},{id:"poke-27",matched:!1,image:"".concat($,"/28.png")},{id:"poke-28",matched:!1,image:"".concat($,"/29.png")},{id:"poke-29",matched:!1,image:"".concat($,"/30.png")},{id:"poke-30",matched:!1,image:"".concat($,"/31.png")},{id:"poke-31",matched:!1,image:"".concat($,"/32.png")},{id:"poke-32",matched:!1,image:"".concat($,"/33.png")},{id:"poke-33",matched:!1,image:"".concat($,"/34.png")},{id:"poke-34",matched:!1,image:"".concat($,"/35.png")},{id:"poke-35",matched:!1,image:"".concat($,"/36.png")},{id:"poke-36",matched:!1,image:"".concat($,"/37.png")},{id:"poke-37",matched:!1,image:"".concat($,"/38.png")},{id:"poke-38",matched:!1,image:"".concat($,"/39.png")},{id:"poke-39",matched:!1,image:"".concat($,"/40.png")}],Q=function(e){var t=e.sort((function(){return Math.random()-.5})),n={};return t.map((function(e){var t=Object(z.a)();return n[t]=e,e})),n},ee=function(e){var t=function(e){var t=[];return Object.keys(e).map((function(n){return t.push(e[n]),n})),t}(e);return Q(t)},te=function(e,t){var n=e*t/4,c=X.sort((function(){return Math.random()-.5})).slice(0,n),a=[].concat(Object(Z.a)(c),Object(Z.a)(c),Object(Z.a)(c),Object(Z.a)(c));return Q(a)},ne=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,c=Object(R.a)({},e),a=n+2,o=t+2,i=Object.keys(e),r=[],l=0;l<o;l++){void 0===r[l]&&(r[l]=[]);for(var s=0;s<a;s++)if(0===l||l===o-1||0===s||s===a-1){var u=Object(z.a)(),d={nid:u,id:u,matched:!0};r[l].push(d)}else{var j=i.pop();if(j){var b=Object(R.a)(Object(R.a)({},c[j]),{},{nid:j,row:l,col:s});c[j]=Object(R.a)(Object(R.a)({},c[j]),{},{rowIndex:l,colIndex:s}),r[l].push(b)}}}return{pokemonMatrix:r,pokemons:c}},ce=function(e,t,n,c,a){var o=function(e,t,n,c,a){for(var o=c+2,i=a+2,r=function(e){for(var t=[],n=e.length,c=0;c<n;c++)t[c]=e[c].slice();return t}(n),l=[],s=[],u=0;u<o;++u){l.push([]),s.push([]);for(var d=0;d<i;++d){var j=Object(R.a)({},r[u][d]);l[u].push(j.matched),s[u].push(void 0)}}var b=[-1,0,1,0],O=[0,1,0,-1],m=[];for(m.push(t),s[t.rowIndex][t.colIndex]={rowIndex:-2,colIndex:-2},l[e.rowIndex][e.colIndex]=!0,l[t.rowIndex][t.colIndex]=!0;m.length;){var p=m.shift();if(p){if((null===p||void 0===p?void 0:p.rowIndex)===e.rowIndex&&(null===p||void 0===p?void 0:p.colIndex)===e.colIndex)break;for(var h=0;h<4;h++)for(var E=p.rowIndex+b[h],f=p.colIndex+O[h];E>=0&&E<o&&f>=0&&f<i&&!0===l[E][f];)void 0===s[E][f]&&(s[E][f]=p,m.push({rowIndex:E,colIndex:f})),E+=b[h],f+=O[h]}}var g=[],x=Object(R.a)({},e);if(s[x.rowIndex][x.colIndex])for(;-2!==x.rowIndex&&-2!==x.colIndex;)g.push({rowIndex:x.rowIndex,colIndex:x.colIndex}),x=Object(R.a)({},s[x.rowIndex][x.colIndex]);return g}(e,t,n,c,a);return{connected:o.length>=2&&o.length<=4,pathPoints:o}},ae=function(e,t){var n=t.rowIndex,c=t.colIndex;return e.find((function(e){return e.rowIndex===n&&e.colIndex===c}))},oe=function(e,t,n,c,a){var o=Object(R.a)({},t),i=Object(Z.a)(e),r=Object(l.a)(i,2),s=r[0],u=r[1],d=[],j=Object(Z.a)(n);if((null===s||void 0===s?void 0:s.nid)&&(null===u||void 0===u?void 0:u.nid)&&t[s.nid].id===t[u.nid].id){var b=ce(s,u,n,c,a),O=b.connected,m=b.pathPoints;if(O)d=function(e,t,n){var c=t+2,a=n+2;return e.reduce((function(e,t,n,o){var i=f.LINE,r=void 0,l=n-1;if(void 0===o[n+1]&&(i=f.END),o[l]){var s=o[l];s.rowIndex>t.rowIndex?r=E.TOP:s.rowIndex<t.rowIndex?r=E.BOTTOM:s.colIndex>t.colIndex?r=E.LEFT:s.colIndex<t.colIndex?r=E.RIGHT:s.rowIndex>t.rowIndex?r=E.TOP:s.rowIndex<t.rowIndex&&(r=E.BOTTOM);var u=Object(R.a)(Object(R.a)({},t),{},{direction:r,type:f.LINE});do{switch(u.direction){case E.BOTTOM:u.rowIndex--,u.rowIndex<0&&(u=void 0);break;case E.TOP:u.rowIndex++,u.rowIndex>=c&&(u=void 0);break;case E.LEFT:u.colIndex++,u.colIndex>=a&&(u=void 0);break;case E.RIGHT:u.colIndex--,u.colIndex<0&&(u=void 0)}if(void 0===u)break;if(u.rowIndex===s.rowIndex&&u.colIndex===s.colIndex)break;e.push(Object(R.a)({},u))}while(void 0!==u)}else i=f.START;var d=Object(R.a)(Object(R.a)({},t),{},{direction:r,type:i});return e.push(d),e}),[])}(m,c,a),o[s.nid]=Object(R.a)(Object(R.a)({},o[s.nid]),{},{matched:!0}),o[u.nid]=Object(R.a)(Object(R.a)({},o[u.nid]),{},{matched:!0}),j=ne(o,c,a).pokemonMatrix;else d=[{rowIndex:-1,colIndex:-1}];i.length=0}else 2===e.length&&(i.length=0,d=[{rowIndex:-1,colIndex:-1}]);return{newSelectedPokemons:i,newMatrix:j,newPokemons:o,connectingLinePoints:d}},ie=Object(v.b)({key:p.GAME_OVERLAY_STATE,default:{connectingLinePoints:[]}}),re=Object(v.b)({key:p.SELECTED_POKEMONS,default:[]}),le=Object(v.c)({key:O.SELECTED_POKEMONS_SELECTOR,get:function(e){return(0,e.get)(re)},set:function(e,t){var n=e.set,c=e.get,a=c(q),o=a.row,i=a.col,r=a.status,l=a.matrix,s=a.pokemons,u=a.level,d=c(re),j=Object(Z.a)(d);j.push(t);var b=oe(j,s,l,o,i),O=b.connectingLinePoints,m=b.newMatrix,p=b.newPokemons,h=b.newSelectedPokemons;O.length>=1&&(O.length>1&&n(q,{row:o,col:i,status:r,level:u,matrix:m,pokemons:p}),n(ie,{connectingLinePoints:O})),n(re,h)}});function se(e){var t=Object(v.g)(q),n=Object(v.g)(D),c=Object(v.g)(le),o=Object(v.f)(q),i=Object(v.f)(ie),r=Object(v.f)(re),l=Object(v.e)(N),s=l.playBiteSound,u=(l.playFanfareSound,l.playNearlyEndTimeSound),d=Object(a.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.PENDING,c=L[e],a=c.row,o=c.col,i=te(a,o),r=ne(i,a,o),l=r.pokemonMatrix,s=r.pokemons;t({pokemons:s,matrix:l,level:e,row:a,col:o,status:n})}),[t]);return{initGame:d,replayGame:function(e){d(g.LEVEL_1)},startGame:function(){t((function(e){return Object(R.a)(Object(R.a)({},e),{},{status:h.RUNNING})}))},endGame:function(){e===m.SURVIVAL_MODE&&(u&&u(),t((function(e){return Object(R.a)(Object(R.a)({},e),{},{status:h.COMPLETED})})))},selectPokemon:function(e,t,n){s&&s(),c({nid:e,rowIndex:t,colIndex:n})},resetGame:function(){o(),i(),r()},addNewRankingScore:function(e,t){(function(e){var t=Object(R.a)(Object(R.a)({},U),{},{body:JSON.stringify(e)});return fetch("".concat(C,"/rankings"),t).then((function(e){return e.json()})).then((function(e){return e}),(function(e){return e}))})({mode:e,playerName:t,timestamp:Date.now()}).then((function(e){n((function(t){var n;return Object(R.a)(Object(R.a)({},t),{},{rankingId:null!==(n=e.id)&&void 0!==n?n:Object(z.a)()})}))}))},updateNewRankingScore:function(e,t,n,c){!function(e,t){var n=Object(R.a)(Object(R.a)({},U),{},{method:"PUT",body:JSON.stringify(t)});fetch("".concat(C,"/rankings/").concat(e),n).then((function(e){return e.json()})).then((function(e){return e}),(function(e){return e}))}(e,{mode:t,playerName:n,timing:c,timestamp:Date.now()})}}}var ue,de=function(){var e=Object(u.a)().t,t=Object(v.e)(N),n=t.playPopUpOnSound,o=(t.playGameSong,se(m.SURVIVAL_MODE).resetGame);return Object(a.useEffect)((function(){o()}),[o]),Object(A.jsxs)("div",{className:"game-container",children:[Object(A.jsxs)(G.a,{children:[Object(A.jsx)("meta",{charSet:"utf-8"}),Object(A.jsx)("title",{children:"Pika pika! - Single player"})]}),Object(A.jsx)("div",{className:"game-board",children:Object(A.jsx)(K,{})}),Object(A.jsxs)("div",{className:"sidebar",children:[Object(A.jsx)("div",{className:"game-info",children:Object(A.jsx)("h1",{className:"game-title",children:e("Single player")})}),Object(A.jsxs)("div",{children:[Object(A.jsx)(d.b,{to:c.SURVIVAL_MODE_PAGE,children:Object(A.jsx)("button",{onClick:function(){return n&&n()},children:e("Survival mode")})}),Object(A.jsx)(d.b,{to:c.SPEED_MODE_PAGE,children:Object(A.jsx)("button",{onClick:function(){return n&&n()},children:e("Speed mode")})}),Object(A.jsx)(d.b,{to:c.MAIN_PAGE,children:Object(A.jsx)("button",{onClick:function(){return n&&n()},children:e("Back")})})]}),Object(A.jsx)(M,{})]})]})},je=n(31),be=n.n(je);!function(e){e.MESSAGES_STATE="MESSAGES_STATE"}(ue||(ue={}));var Oe=Object(v.b)({key:ue.MESSAGES_STATE,default:{messages:[]}}),me=function(e){var t=e.handleSubmit,n=Object(u.a)().t,c=Object(a.useState)(1),o=Object(l.a)(c,2),i=o[0],r=o[1];return Object(A.jsx)("div",{className:"chat-box",children:Object(A.jsx)("form",{onSubmit:function(e){i?(r(0),t(e),setTimeout((function(){r(1)}),300)):alert(n("Chat slowly please"))},children:Object(A.jsx)("input",{name:"message",placeholder:n("Enter your message here..."),autoFocus:!0,autoComplete:"off"})})})},pe=function(e){var t=e.message,n=Object(v.e)(D).playerName;try{var c=JSON.parse(t),a=c.name,o=c.content,i=c.timestamp,r=n===a?"self":"";return Object(A.jsxs)("div",{className:"message ".concat(r),children:[Object(A.jsx)("small",{className:"message-name",children:a}),Object(A.jsx)("strong",{className:"message-content",children:o}),Object(A.jsx)("small",{className:"message-date",children:Object(A.jsx)("em",{children:W(i)})})]})}catch(l){return null}};function he(e,t){return e.message===t.message}var Ee=Object(a.memo)(pe,he),fe=function(){var e=Object(v.e)(Oe).messages;return Object(a.useEffect)((function(){var e=document.getElementById("messages-box");e&&e.scrollTo({behavior:"smooth",top:e.scrollHeight})}),[e.length]),Object(A.jsx)("div",{id:"messages-box",className:"messages-box",children:e.map((function(e,t){return e&&Object(A.jsx)(Ee,{message:e.content},t)}))})},ge=function(e){e.room;var t=Object(u.a)().t,n=Object(v.e)(D).playerName,c=Object(v.e)(N).playPopUpOffSound,o=Object(v.g)(Oe),i=Object(a.useState)("".concat("ws://localhost:8080","/chat")),r=Object(l.a)(i,1)[0],s=be()(r,{reconnectAttempts:10,reconnectInterval:3e3,retryOnError:!0,shouldReconnect:function(){return!0},queryParams:{username:n},onMessage:function(e){c&&c()}}),d=s.sendJsonMessage,j=s.readyState,b=s.lastJsonMessage,O=s.lastMessage;Object(a.useEffect)((function(){b&&o((function(e){var t=e.messages;return{messages:[].concat(Object(Z.a)(t),[b])}}))}),[O]);var m=Object(a.useCallback)((function(e){var t={command:2,channel:"general",name:n,content:e,timestamp:Date.now()};d(t)}),[]);return Object(A.jsx)("div",{className:"chat-room",children:Object(A.jsxs)("div",{className:"chat-container",children:[j===je.ReadyState.OPEN&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(fe,{}),Object(A.jsx)(me,{handleSubmit:function(e){e.preventDefault();var n=e.currentTarget.message;n.setAttribute("disabled","true");var c=n.value.replace(/\b(dit|du|fuck|cu|dcm|dm|dcm|cat)\b/g,"*");c&&""!==c.trim()?(m(c),n.value=""):alert(t("Please enter your message")),n.removeAttribute("disabled"),n.focus()}})]}),j===je.ReadyState.CLOSED&&Object(A.jsxs)("div",{className:"service-status",children:[t("Service is not available now."),Object(A.jsx)("strong",{className:"clickable",onClick:function(){window.location.reload()},children:t("Please try again")})]})]})})},xe=function(){var e=Object(u.a)().t,t=Object(v.e)(N),n=t.playPopUpOnSound,a=t.playGlugSound,o=function(){a&&a(),alert(e("In development"))};return Object(A.jsxs)("div",{className:"chat-board",children:[Object(A.jsxs)(G.a,{children:[Object(A.jsx)("meta",{charSet:"utf-8"}),Object(A.jsx)("title",{children:"Pika pika! - Multi player"})]}),Object(A.jsx)("div",{className:"game-board",children:Object(A.jsx)(ge,{room:"general"})}),Object(A.jsxs)("div",{className:"sidebar",children:[Object(A.jsx)("div",{className:"game-info",children:Object(A.jsx)("h1",{className:"game-title",children:e("Multi player")})}),Object(A.jsx)("div",{children:Object(A.jsxs)("div",{className:"text-center",children:[Object(A.jsx)("p",{className:"text-coming-soon",children:e("Coming soon...")}),Object(A.jsx)("button",{onClick:o,children:e("Make match")}),Object(A.jsx)("button",{onClick:o,children:e("Find random match")}),Object(A.jsx)(d.b,{to:c.MAIN_PAGE,children:Object(A.jsx)("button",{onClick:function(){return n&&n()},children:e("Main menu")})})]})}),Object(A.jsx)("p",{className:"mobile-helper",children:e("Scroll down to chat")}),Object(A.jsx)(M,{})]})]})},ve=function(e){var t,n=e.pokemon,c=e.rowIndex,a=e.colIndex,o=e.isSelected,i=e.selectPokemon,r=o?"selected":"",l=n.matched?"hidden":"";return Object(A.jsx)("div",{style:{backgroundImage:"url(".concat(null!==(t=n.image)&&void 0!==t?t:"",")")},className:"pokemon-card ".concat(r," ").concat(l),onClick:function(){o||n.matched||!n.nid||i(n.nid,c,a)}})};function Se(e,t){return e.pokemon.nid===t.pokemon.nid&&e.pokemon.image===t.pokemon.image&&e.pokemon.matched===t.pokemon.matched&&e.isSelected===t.isSelected}var Le=Object(a.memo)(ve,Se),ye=function(e){var t=e.pokemons,n=e.rowIndex,c=e.mode,a=Object(v.e)(re),o=se(c).selectPokemon;return Object(A.jsx)(A.Fragment,{children:t.map((function(e,t){return Object(A.jsx)(Le,{pokemon:e,rowIndex:n,colIndex:t,isSelected:void 0!==e.nid&&a.findIndex((function(t){return t.nid===e.nid}))>=0,selectPokemon:o},"card-".concat(t))}))})},_e=Object(v.b)({key:p.GAME_TIMING_STATE,default:{timing:0,yourTiming:0}});function Ne(e){var t=Object(s.g)(),n=Object(v.e)(N),c=(n.playFanfareSound,n.playLevelUpSound),o=n.playCompletedGameSound,i=n.playYouWinSound,r=se(e),u=r.initGame,d=r.replayGame,j=r.endGame,b=r.addNewRankingScore,O=r.updateNewRankingScore,p=Object(v.g)(q),E=Object(v.e)(D),f=Object(v.g)(_e),x=Object(v.e)(q),S=x.matrix,L=x.row,k=x.col,P=x.status,I=x.pokemons,T=x.level;return Object(a.useEffect)((function(){return P===h.PENDING&&(u(T),b(e,E.playerName),e===m.SURVIVAL_MODE&&f({timing:_,yourTiming:0}),e===m.SPEED_MODE&&f({timing:0})),function(){}}),[P,u]),Object(a.useEffect)((function(){P===h.COMPLETED&&E.rankingId&&O(E.rankingId,e,E.playerName,E.playerTiming)}),[E.rankingId,E.playerTiming]),Object(a.useEffect)((function(){if(function(e){return Object.keys(e).length&&-1===Object.entries(e).findIndex((function(e){var t=Object(l.a)(e,2);return t[0],!1===t[1].matched}))}(I)){var t=y[T];T!==t||e===m.SURVIVAL_MODE?(u(t,h.RUNNING),o&&o()):e===m.SPEED_MODE&&(i&&i(),p({matrix:S,row:L,col:k,pokemons:I,level:T,status:h.COMPLETED}))}else Object.keys(I).length&&!1===function(e,t,n,c){for(var a=!1,o=Object.entries(e),i=function(){var e=o.pop();if(void 0===e)return"break";var i=Object(l.a)(e,2),r=(i[0],i[1]);return!1===r.matched&&(a=o.some((function(e){var a=Object(l.a)(e,2),o=(a[0],a[1]);return r.id===o.id&&!1===o.matched&&ce(r,o,t,n,c).connected})))?"break":void 0};o.length&&"break"!==i(););return a}(I,S,L,k)&&(!function(e){var t=ee(e),n=ne(t,L,k),c=n.pokemonMatrix,a=n.pokemons;p({pokemons:a,matrix:c,level:T,row:L,col:k,status:h.RUNNING})}(I),c&&c())}),[I]),Object(a.useEffect)((function(){P===h.RUNNING&&(u(g.LEVEL_1),e===m.SURVIVAL_MODE&&f({timing:_,yourTiming:0}),e===m.SPEED_MODE&&f({timing:0}))}),[t]),{initGame:u,replayGame:d,endGame:j,matrix:S,row:L,col:k,status:P,level:T}}var ke=function(e){var t=e.mode,n=Ne(t),c=n.matrix,a=n.row,o=n.col;return Object(A.jsx)("div",{className:"game-pokemon board-".concat(a,"x").concat(o),children:c&&c.map((function(e,n){return Object(A.jsx)(ye,{mode:t,rowIndex:n,pokemons:e},"row-".concat(n))}))})},Pe=function(e){var t=e.point,n=e.rowIndex,c=e.colIndex,o=t&&t.type?"".concat(t.type,"-point"):"",i=t&&t.direction?"".concat(t.direction,"-direction"):"",r=t?"in-line ".concat(i," ").concat(o):"",l=Object(a.useRef)(null);return Object(a.useEffect)((function(){return setTimeout((function(){l.current&&(i&&l.current.classList.remove(i),o&&l.current.classList.remove(o))}),300),function(){}}),[l,i,o]),Object(A.jsx)("div",{ref:l,className:"line-card ".concat(r),children:Object(A.jsxs)("strong",{children:[n,",",c]})})};function Ie(e,t){var n,c,a,o;return void 0===e.point&&void 0===t.point||(null===(n=e.point)||void 0===n?void 0:n.direction)===(null===(c=t.point)||void 0===c?void 0:c.direction)&&(null===(a=e.point)||void 0===a?void 0:a.type)===(null===(o=t.point)||void 0===o?void 0:o.type)}var Te=Object(a.memo)(Pe,Ie),we=function(e){var t=e.cards,n=e.rowIndex,c=e.connectingLinePoints;return Object(A.jsx)(A.Fragment,{children:t.map((function(e,t){return Object(A.jsx)(Te,{rowIndex:n,colIndex:t,point:ae(c,{rowIndex:n,colIndex:t})},"card-".concat(t))}))})};var Ae=function(e){e.mode;var t=function(e){var t=Object(v.e)(ie).connectingLinePoints,n=Object(v.e)(q);return{connectingLinePoints:t,matrix:n.matrix,row:n.row,col:n.col,status:n.status}}(),n=t.connectingLinePoints,c=t.matrix,a=t.row,o=t.col,i=new Array(o+2).fill(!1);return Object(A.jsx)("div",{className:"game-overlay board-".concat(a,"x").concat(o),children:c&&c.map((function(e,t){return Object(A.jsx)(we,{cards:i,rowIndex:t,connectingLinePoints:n},"row-".concat(t))}))})},Me=function(){var e=Object(u.a)().t,t=Object(v.e)(q).level;return Object(A.jsxs)("h3",{className:"game-title",children:[e("Level")," ",t," / 14"]})},Ge=function(e){var t=e.hasTiming,n=void 0!==t&&t,c=Object(u.a)().t,o=Object(v.e)(q).status,i=Object(v.e)(N),r=i.playRisingPopSound,s=i.playGlugSound,d=Object(v.d)(D),j=Object(l.a)(d,2),b=j[0],O=j[1],p=Object(v.e)(ie).connectingLinePoints,E=Object(a.useState)(0),f=Object(l.a)(E,2),g=f[0],x=f[1],S=Object(a.useRef)(0),L=se(m.SPEED_MODE).startGame;return Object(a.useEffect)((function(){var e=void 0;o===h.RUNNING&&(e=setTimeout((function(){S.current++,x(g+1)}),1e3)),o===h.COMPLETED&&e&&clearTimeout(e)}),[o,g]),Object(a.useEffect)((function(){o===h.PENDING&&n&&(S.current=0,setTimeout((function(){L()}),3e3)),o===h.COMPLETED&&O(Object(R.a)(Object(R.a)({},b),{},{playerTiming:S.current}))}),[o]),Object(a.useEffect)((function(){1===p.length&&(s&&s(),S.current+=5),p.length>1&&r&&r()}),[p]),Object(A.jsxs)("p",{className:"text-center",children:[c("Your time"),": ",B(S.current)]})},De=function(e){var t=e.title,n=Object(u.a)().t,c=Object(v.e)(D).playerName,a=Object(v.e)(q).status;return Object(A.jsx)("h1",{className:"game-title",children:a===h.COMPLETED?n("Congratulations")+" "+c:t})},Ve=function(e){var t=e.action,n=Object(u.a)().t,c=Object(v.e)(D).playerName;return Object(A.jsx)("p",{children:Object(A.jsx)("button",{onClick:function(){return t(c)},children:n("Replay")})})},Re=function(e){var t=e.hasTiming,n=void 0!==t&&t,c=Object(u.a)().t,a=se(m.SPEED_MODE).replayGame;return Object(A.jsxs)("div",{className:"game-info",children:[Object(A.jsx)(De,{title:c("Speed mode")}),Object(A.jsx)(Me,{}),Object(A.jsx)(Ge,{hasTiming:n}),Object(A.jsx)(Ve,{action:a})]})},Ce=function(){var e=Object(u.a)().t,t=Object(v.e)(q).status,n=Object(v.e)(N).playPopUpOnSound;return Object(A.jsxs)("div",{className:"game-container",children:[Object(A.jsxs)(G.a,{children:[Object(A.jsx)("meta",{charSet:"utf-8"}),Object(A.jsx)("title",{children:"Pika pika! - Speed mode board"})]}),Object(A.jsxs)("div",{className:"game-board game-".concat(t),children:[Object(A.jsx)(Re,{}),Object(A.jsx)(Ae,{mode:m.SPEED_MODE}),Object(A.jsx)(ke,{mode:m.SPEED_MODE})]}),Object(A.jsxs)("div",{className:"sidebar",children:[Object(A.jsx)(Re,{hasTiming:!0}),Object(A.jsxs)("div",{children:[Object(A.jsx)("blockquote",{className:"game-helper",children:e("Please complete all levels as fast as you can")}),Object(A.jsx)("blockquote",{className:"game-helper",children:e("Choosing the wrong pair will increase the time")})]}),Object(A.jsx)(d.b,{to:c.SINGLE_PLAYER_PAGE,children:Object(A.jsx)("button",{onClick:function(){return n&&n()},children:e("Back")})}),Object(A.jsx)("p",{className:"mobile-helper",children:e("Scroll down to play")}),Object(A.jsx)(M,{})]})]})},Ue=function(e){var t=e.hasTiming,n=void 0!==t&&t,c=Object(u.a)().t,o=Object(v.e)(q).status,i=Object(v.e)(N),r=i.playRisingPopSound,s=i.playGlugSound,d=Object(a.useState)(0),j=Object(l.a)(d,2),b=j[0],O=j[1],p=Object(a.useRef)(0),E=Object(a.useRef)(_),f=Object(v.d)(D),g=Object(l.a)(f,2),x=g[0],S=g[1],L=se(m.SURVIVAL_MODE),y=L.endGame,k=L.startGame,P=Object(v.e)(ie).connectingLinePoints;return Object(a.useEffect)((function(){var e=void 0;o===h.PENDING&&n&&(p.current=0,E.current=_,setTimeout((function(){k()}),3e3)),o===h.RUNNING&&(E.current<=0?n&&y():e=setTimeout((function(){p.current++,E.current--,O(b+1)}),1e3)),o===h.COMPLETED&&(e&&clearTimeout(e),n&&S(Object(R.a)(Object(R.a)({},x),{},{playerTiming:p.current})))}),[o,b]),Object(a.useEffect)((function(){1===P.length&&(s&&s(),E.current-=5),P.length>1&&(r&&r(),E.current+=2)}),[P]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("p",{className:"text-center",children:[c("Your time"),": ",B(p.current)]}),Object(A.jsxs)("p",{className:"text-center",children:[c("Remaining time"),": ",B(E.current)]})]})},Fe=function(e){var t=e.hasTiming,n=void 0!==t&&t,c=Object(u.a)().t,a=se(m.SURVIVAL_MODE).replayGame;return Object(A.jsxs)("div",{className:"game-info",children:[Object(A.jsx)(De,{title:c("Survival mode")}),Object(A.jsx)(Me,{}),Object(A.jsx)(Ue,{hasTiming:n}),Object(A.jsx)(Ve,{action:a})]})},Ye=function(){var e=Object(u.a)().t,t=Object(v.e)(q).status,n=Object(v.e)(N).playPopUpOnSound;return Object(A.jsxs)("div",{className:"game-container",children:[Object(A.jsxs)(G.a,{children:[Object(A.jsx)("meta",{charSet:"utf-8"}),Object(A.jsx)("title",{children:"Pika pika! - Survival mode board"})]}),Object(A.jsxs)("div",{className:"game-board game-".concat(t),children:[Object(A.jsx)(Fe,{}),Object(A.jsx)(Ae,{mode:m.SURVIVAL_MODE}),Object(A.jsx)(ke,{mode:m.SURVIVAL_MODE})]}),Object(A.jsxs)("div",{className:"sidebar",children:[Object(A.jsx)(Fe,{hasTiming:!0}),Object(A.jsxs)("div",{children:[Object(A.jsx)("blockquote",{className:"game-helper",children:e("Try your best not to run out of time as long as possible")}),Object(A.jsx)("blockquote",{className:"game-helper",children:e("Your time will increase when you match a pair of pokemon")}),Object(A.jsx)("blockquote",{className:"game-helper",children:e("Choosing the wrong pair will decrease the time")})]}),Object(A.jsx)(d.b,{to:c.SINGLE_PLAYER_PAGE,children:Object(A.jsx)("button",{onClick:function(){return n&&n()},children:e("Back")})}),Object(A.jsx)("p",{className:"mobile-helper",children:e("Scroll down to play")}),Object(A.jsx)(M,{})]})]})},Be=function(){var e=Object(u.a)().t,t=Object(s.f)(),n=Object(v.g)(D),a=k("playerName",""),o=Object(l.a)(a,2),i=(o[0],o[1]);return Object(A.jsxs)("div",{className:"main-board",children:[Object(A.jsxs)(G.a,{children:[Object(A.jsx)("meta",{charSet:"utf-8"}),Object(A.jsx)("title",{children:"Pika pika! - Player board"})]}),Object(A.jsxs)("div",{children:[Object(A.jsxs)("form",{onSubmit:function(a){a.preventDefault();var o=a.currentTarget.playerName.value;o&&""!==o.trim()?o.match(/^[a-zA-Z0-9 ]*$/gim)?(i(o),n({playerName:o,playerTiming:0}),t.push(c.MAIN_PAGE)):alert(e("Accept alphabet and digit only.")):alert(e("Please enter your name"))},children:[Object(A.jsx)("input",{name:"playerName",autoFocus:!0,placeholder:e("Enter your name here"),maxLength:20,autoComplete:"off"}),Object(A.jsx)("button",{children:e("Submit")})]}),Object(A.jsx)(M,{})]})]})},We=Object(v.b)({key:"TOGGLE_SOUND",default:{music:0,effect:1}}),Je=function(){var e=Object(v.d)(We),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(v.e)(N),o=a.playDisableSound,i=(a.playEnableSound,n.effect?"icono-volumeMedium":"icono-volumeMute");return Object(A.jsx)("div",{className:"toggle-sound-effect",onClick:function(){c((function(e){return Object(R.a)(Object(R.a)({},e),{},{effect:1===e.effect?0:1})})),n&&o&&o()},children:Object(A.jsx)("i",{className:i})})},He=function(){var e=Object(v.d)(We),t=Object(l.a)(e,2),n=t[0],c=t[1],a=n.music?"icono-blue":"icono-black";return Object(A.jsx)("div",{className:"toggle-music-effect",onClick:function(){c((function(e){return Object(R.a)(Object(R.a)({},e),{},{music:1===e.music?0:1})}))},children:Object(A.jsx)("i",{className:"icono-music ".concat(a)})})};var Ke,qe=function(){var e=Object(u.a)().t,t=Object(v.e)(N).soundReady,n=Object(s.f)(),o=Object(v.d)(D),i=Object(l.a)(o,2),r=i[0],d=i[1],j=k("language","vi"),b=Object(l.a)(j,1)[0],O=k("playerName",""),m=Object(l.a)(O,2),p=m[0],h=m[1];return Object(a.useEffect)((function(){w.changeLanguage(b)}),[b]),Object(a.useEffect)((function(){p&&""!==p&&p.match(/^[a-zA-Z0-9 ]*$/gim)?""!==r.playerName.trim()&&r.playerName.match(/^[a-zA-Z0-9 ]*$/gim)?d({playerName:r.playerName,playerTiming:0}):d({playerName:p,playerTiming:0}):(h(""),n.push(c.PLAYER_PAGE))}),[p]),Object(A.jsxs)("div",{className:"app",children:[t&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(He,{}),Object(A.jsx)(Je,{})]}),!t&&Object(A.jsx)("h1",{children:e("Preparing resource...")}),t&&Object(A.jsxs)(s.c,{children:[Object(A.jsx)(s.a,{path:c.MAIN_PAGE,exact:!0,children:Object(A.jsx)(V,{})}),Object(A.jsx)(s.a,{path:c.SINGLE_PLAYER_PAGE,exact:!0,children:Object(A.jsx)(de,{})}),Object(A.jsx)(s.a,{path:c.MULTI_PLAYER_PAGE,exact:!0,children:Object(A.jsx)(xe,{})}),Object(A.jsx)(s.a,{path:c.SPEED_MODE_PAGE,exact:!0,children:Object(A.jsx)(Ce,{})}),Object(A.jsx)(s.a,{path:c.SURVIVAL_MODE_PAGE,exact:!0,children:Object(A.jsx)(Ye,{})}),Object(A.jsx)(s.a,{path:c.PLAYER_PAGE,exact:!0,children:Object(A.jsx)(Be,{})}),Object(A.jsx)(s.a,{path:"*",children:Object(A.jsx)(V,{})})]})]})},Ze=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,88)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))},ze=n(52),$e=n.p+"static/media/menu-open.019cf647.mp3",Xe=n.p+"static/media/disable-sound.477d0574.mp3",Qe=n.p+"static/media/enable-sound.00d0be95.mp3",et=n.p+"static/media/switch-on.88d10ee7.mp3",tt=n.p+"static/media/switch-off.e5ebe933.mp3",nt=n.p+"static/media/bite.aea7caff.mp3",ct=n.p+"static/media/fanfare.8807360a.mp3",at=n.p+"static/media/glug-a.b9f1fa99.mp3",ot=n.p+"static/media/rising-pops.7eda816b.mp3",it=n.p+"static/media/game-completion.a7022fca.wav",rt=n.p+"static/media/gamers-fail-game.1bab0c1d.mp3",lt=n.p+"static/media/time-limited.3894918f.wav",st=n.p+"static/media/levelup.3dc0430f.mp3",ut=n.p+"static/media/pop-down.cc0a5518.mp3",dt=n.p+"static/media/pop-up-on.b776a1ef.mp3",jt=n.p+"static/media/pop-up-off.83c6ba5b.mp3",bt=n.p+"static/media/you-win.70d95733.mp3",Ot=n.p+"static/media/game-song.c7ee5596.mp3";function mt(e){var t=Object(v.e)(We),n=t.music,c=t.effect,a={interrupt:!0,volume:c},o=$e;if(e)switch(e){case Ke.BITE:o=nt;break;case Ke.COMPLETE_GAME:o=it;break;case Ke.DISABLE:o=Xe;break;case Ke.ENABLE:o=Qe;break;case Ke.ON:o=et;break;case Ke.OFF:o=tt;break;case Ke.FAIL_GAME:o=rt;break;case Ke.GLUG:o=at;break;case Ke.FANFARE:o=ct;break;case Ke.RISING_POP:o=ot;break;case Ke.NEARLY_END_TIME:o=lt;break;case Ke.LEVEL_UP:o=st;break;case Ke.POP_DOWN:o=ut;break;case Ke.POP_UP_ON:o=dt;break;case Ke.POP_UP_OFF:o=jt;break;case Ke.YOU_WIN:o=bt;break;case Ke.GAME_SONG:o=Ot;break;default:o=$e}var i=Object(ze.a)(o,a),r=Object(l.a)(i,2),s=r[0],u=r[1];return{playSound:s,loadedSound:u.sound,stopSound:u.stop,pauseSound:u.pause,duration:u.duration,music:n,effect:c}}!function(e){e.MENU_OPEN="MENU_OPEN",e.BITE="BITE",e.DISABLE="DISABLE",e.ENABLE="ENABLE",e.ON="ON",e.OFF="OFF",e.FANFARE="FANFARE",e.GLUG="GLUG",e.RISING_POP="RISING_POP",e.COMPLETE_GAME="COMPLETE_GAME",e.FAIL_GAME="FAIL_GAME",e.NEARLY_END_TIME="NEARLY_END_TIME",e.LEVEL_UP="LEVEL_UP",e.POP_DOWN="POP_DOWN",e.POP_UP_ON="POP_UP_ON",e.POP_UP_OFF="POP_UP_OFF",e.YOU_WIN="YOU_WIN",e.GAME_SONG="GAME_SONG"}(Ke||(Ke={}));var pt=function(){var e=mt(Ke.BITE),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playBiteSound:t})}))}),[n,t,c]),null};function ht(){return!0}var Et=Object(a.memo)(pt,ht),ft=function(){var e=mt(Ke.COMPLETE_GAME),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playCompletedGameSound:t})}))}),[n,c,t]),null},gt=function(){var e=mt(Ke.MENU_OPEN),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playOpenMenuSound:t})}))}),[n,c,t]),null},xt=function(){var e=mt(Ke.DISABLE),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playDisableSound:t})}))}),[n,t,c]),null},vt=function(){var e=mt(Ke.ENABLE),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playEnableSound:t})}))}),[n,t,c]),null},St=function(){var e=mt(Ke.FANFARE),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playFanfareSound:t})}))}),[n,c,t]),null},Lt=function(){var e=mt(Ke.FAIL_GAME),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playFailedGameSound:t})}))}),[n,c,t]),null},yt=function(){var e=mt(Ke.GAME_SONG),t=e.playSound,n=e.loadedSound,c=e.duration,o=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&o((function(e){return Object(R.a)(Object(R.a)({},e),{},{soundReady:!0,gameSongDuration:null!==c&&void 0!==c?c:0,playGameSong:t})}))}),[n]),null},_t=function(){var e=mt(Ke.LEVEL_UP),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playLevelUpSound:t})}))}),[n,c,t]),null},Nt=function(){var e=mt(Ke.NEARLY_END_TIME),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playNearlyEndTimeSound:t})}))}),[n,c,t]),null},kt=function(){var e=mt(Ke.OFF),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playOffSound:t})}))}),[n,t,c]),null},Pt=function(){var e=mt(Ke.ON),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playOnSound:t})}))}),[n,t,c]),null},It=function(){var e=mt(Ke.POP_DOWN),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playPopDownSound:t})}))}),[n,c,t]),null},Tt=function(){var e=mt(Ke.POP_UP_OFF),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playPopUpOffSound:t})}))}),[n,c,t]),null},wt=function(){var e=mt(Ke.POP_UP_ON),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playPopUpOnSound:t})}))}),[n,c,t]),null},At=function(){var e=mt(Ke.YOU_WIN),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playYouWinSound:t})}))}),[n,t,c]),null},Mt=function(){var e=mt(Ke.RISING_POP),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playRisingPopSound:t})}))}),[n,t,c]),null},Gt=n(53),Dt=n.n(Gt),Vt=function(){var e=Object(v.e)(We).music;return Object(A.jsx)("div",{className:"game-theme",children:Object(A.jsx)(Dt.a,{url:"https://www.youtube.com/watch?v=6ZUDiC6TB-k",playing:!!e,loop:!0})})},Rt=function(){var e=mt(Ke.GLUG),t=e.playSound,n=e.loadedSound,c=Object(v.g)(N);return Object(a.useEffect)((function(){null!==n&&c((function(e){return Object(R.a)(Object(R.a)({},e),{},{playGlugSound:t})}))}),[n,c,t]),null},Ct=function(e){var t=e.children;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Vt,{}),Object(A.jsx)(Et,{}),Object(A.jsx)(ft,{}),Object(A.jsx)(xt,{}),Object(A.jsx)(vt,{}),Object(A.jsx)(Lt,{}),Object(A.jsx)(St,{}),Object(A.jsx)(yt,{}),Object(A.jsx)(_t,{}),Object(A.jsx)(Nt,{}),Object(A.jsx)(kt,{}),Object(A.jsx)(Pt,{}),Object(A.jsx)(gt,{}),Object(A.jsx)(It,{}),Object(A.jsx)(Tt,{}),Object(A.jsx)(wt,{}),Object(A.jsx)(Mt,{}),Object(A.jsx)(At,{}),Object(A.jsx)(Rt,{}),t]})};r.a.render(Object(A.jsx)(o.a.StrictMode,{children:Object(A.jsx)(v.a,{children:Object(A.jsx)(Ct,{children:Object(A.jsx)(d.a,{children:Object(A.jsx)(qe,{})})})})}),document.getElementById("root")),Ze()}},[[85,1,2]]]);
//# sourceMappingURL=main.88fd96ac.chunk.js.map